{"version":3,"sources":["views/base/tables/AI_Skin/PluginCreateOrder.js"],"names":["headers","Headers","auth","localStorage","getItem","append","PluginCreateOrder","props","getCompanyName","company_id","a","axios","baseURL","Constants","BASE_URL","url","PLUGIN_DATA_COMPANY","method","data","resCom","setState","company_name","Name","currentSlug","Slug","confirmSlug","getPackageName","package_id","PLUGIN_DATA_PACKAGE","resPackage","package_name","package_time","Value","convertUnitToDate","Unit","package_key","package_unit","getFeatureChoose","feature","DATA_CHOOSE_FEATURE","length","JSON","parse","arrFeature","handleChange","newValue","actionMeta","objectValueCompany","Company_Id","value","console","log","state","Package_Id","Feature_Id","arrayFeature","arrayChooseFeature","modalCom","updated","dataApi","action","modalDelete","delete","arrPagination","token","Authorization","dataPackage","dataFeature","disableNext","time_expried","time_create","isLoading","arrOptionCompany","this","getCompanyData","getPackageData","getFeatureData","arr","i","window","location","hash","isHidden","href","PLUGIN_LIST_COMPANY","resCompany","arrTempOptionCompany","push","_id","label","LIST_PACKAGE","LIST_FEATURE","resFeature","key","status","unit","arrChoose","Array","arrTemp","arrSetDefault","Status","y","Array_Feature","name","Key","id","setItem","stringify","options","selectedValues","onSelect","e","onRemove","displayValue","body","Active_Date","End_Date","ADD_PLUGIN_ORDER","resOrder","is_success","alert","message","reload","ble","className","colSpan","hidden","undefined","map","item","today","Date","setDate","getDate","setMonth","getMonth","setFullYear","getFullYear","UPDATE_SLUG","getCurrentDate","getCurrentMonth","now","Number","style","styles","tags","sm","lg","md","xm","lx","isClearable","onChange","target","flexLabel","htmlFor","flexOption","renderSelect","marginTop","disabled","outline","color","floatRight","size","onClick","onNext","toLocaleDateString","renderTable","addOrderPlugin","isOpen","arrHardWard","arrChooseHard","toggleModal","Component","pagination","marginRight","width","margin","textDecoration","float","spinner","center","textAlign","tbody","height","overflowY","wh12","wh15","w5","wa10","row","success","danger","mgl5","marginLeft","padding","searchInput","display","userActive","userPending","nagemonNameCol","image","borderRadius","marginBottom"],"mappings":"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","file":"static/js/78.b6287832.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport Multiselect from 'multiselect-react-dropdown';\nimport Moment from 'react-moment';\nimport 'moment-timezone';\nimport {\n  Card,\n  CardBody,\n  CardHeader,\n  Input,\n  ModalHeader, ModalBody, ModalFooter, Modal,\n} from 'reactstrap';\n\nimport {\n  CRow,\n  CCol,\n  CSelect,\n  CButton,\n  CLabel\n} from '@coreui/react'\n\nimport CreatableSelect from 'react-select/creatable';\nimport 'moment-timezone';\nimport Constants from \"../../../../contants/contants\";\nimport axios from 'axios'\nlet headers = new Headers();\nconst auth = localStorage.getItem('auth');\nheaders.append('Authorization', 'Bearer ' + auth);\nheaders.append('Content-Type', 'application/json');\n\nclass PluginCreateOrder extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      Company_Id: '',\n      Package_Id: '',\n      Feature_Id: '',\n      arrayFeature: [],\n      arrayChooseFeature: [],\n      modalCom: false,\n      updated: '',\n      dataApi: [],\n      action: 'new',\n      modalDelete: false,\n      delete: null,\n      arrPagination: [],\n      token: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n      company_id: localStorage.getItem('user'),\n      dataPackage: [],\n      dataFeature: [],\n      company_name: '',\n      package_name: '',\n      package_time: '',\n      package_key: '',\n      package_unit: '',\n      arrFeature: [],\n      disableNext: false,\n      time_expried: '',\n      time_create: '',\n      //So sách 2 slug nếu trùng thì thôi còn khác nhau thì update lại slug của công ty\n      currentSlug: '',\n      confirmSlug: '',\n      isLoading: false,\n      arrOptionCompany: [],\n      objectValueCompany: {},\n    };\n  }\n\n  async componentDidMount() {\n    this.getCompanyData();\n    this.getPackageData();\n    this.getFeatureData();\n    let arr = JSON.parse(localStorage.getItem('url'));\n\n    for (let i = 0; i < arr.length; i++) {\n      if (arr[i].url == window.location.hash) {\n        if (arr[i].isHidden == true) {\n          window.location.href = '#/'\n        }\n      }\n    }\n\n  }\n\n  async getCompanyData() {\n    const resCompany = await axios({\n      baseURL: Constants.BASE_URL,\n      url: Constants.PLUGIN_LIST_COMPANY,\n      method: 'POST',\n    });\n\n    let data = resCompany.data.data;\n    let arrTempOptionCompany = [];\n    for (let i = 0; i < data.length; i++) {\n      arrTempOptionCompany.push({\n        value: data[i]._id, label: data[i].Name\n      })\n    }\n\n    this.setState({\n      arrOptionCompany: arrTempOptionCompany, objectValueCompany: arrTempOptionCompany.length > 0 ? arrTempOptionCompany[0] : { value: \"\", label: \"\" }\n    });\n  }\n\n  getCompanyName = async (company_id) => {\n    const resCom = await axios({\n      baseURL: Constants.BASE_URL,\n      url: Constants.PLUGIN_DATA_COMPANY,\n      method: 'POST',\n      data: {\n        company_id: company_id\n      }\n    });\n\n    this.setState({\n      company_name: resCom.data.data.Name,\n      currentSlug: resCom.data.data.Slug, confirmSlug: resCom.data.data.Slug\n    })\n    return resCom.data.data.Name;\n  }\n\n  getPackageName = async (package_id) => {\n    const resPackage = await axios({\n      baseURL: Constants.BASE_URL,\n      url: Constants.PLUGIN_DATA_PACKAGE,\n      method: 'POST',\n      data: {\n        package_id: package_id\n      }\n    });\n    this.setState({\n      package_name: resPackage.data.data.Name,\n      package_time: resPackage.data.data.Value + \" \" + this.convertUnitToDate(resPackage.data.data.Unit),\n      package_key: resPackage.data.data.Value, package_unit: resPackage.data.data.Unit\n    })\n    return resPackage.data.data.Name;\n  }\n\n  getFeatureChoose = async (feature) => {\n    const resPackage = await axios({\n      baseURL: Constants.BASE_URL,\n      url: Constants.DATA_CHOOSE_FEATURE,\n      method: 'POST',\n      data: {\n        feature: feature.length == 0 ? JSON.parse(localStorage.getItem('arrFeature')) : feature\n      }\n    });\n    this.setState({ arrFeature: resPackage.data.data })\n    return resPackage.data.data;\n  }\n\n  async getPackageData() {\n    const resPackage = await axios({\n      baseURL: Constants.BASE_URL,\n      url: Constants.LIST_PACKAGE,\n      method: 'POST',\n    });\n\n    this.setState({ dataPackage: resPackage.data.data });\n  }\n\n  async getPackage_forFeature() {\n    const resPackage = await axios({\n      baseURL: Constants.BASE_URL,\n      url: Constants.LIST_PACKAGE,\n      method: 'POST',\n    });\n\n    return resPackage.data.data;\n  }\n\n  async getFeatureData() {\n    const resFeature = await axios({\n      baseURL: Constants.BASE_URL,\n      url: Constants.LIST_FEATURE,\n      method: 'POST',\n    });\n\n    this.setState({ dataFeature: resFeature.data.data });\n  }\n\n  async toggleModal(key) {\n\n  }\n\n  getBadge(status) {\n    switch (status) {\n      case 'INSTOCK': return 'success'\n      case 'AVAILABLE': return 'secondary'\n      case 'Locked': return 'warning'\n      case 'Deactived': return 'danger'\n      default: return 'primary'\n    }\n  }\n\n  convertUnitToDate(unit) {\n    switch (unit) {\n      case '0': return 'Ngày'\n      case '1': return 'Tháng'\n      case '2': return 'Năm'\n    }\n  }\n\n  renderSelect() {\n    const { dataFeature, dataPackage, Package_Id } = this.state;\n    var arrChoose = new Array();\n    let arrTemp = [];\n    let arrFeature = [];\n    let arrSetDefault = [];\n    for (let i = 0; i < dataPackage.length; i++) {\n      if (dataPackage[i]._id == Package_Id && dataPackage[i].Status == \"1\") {\n        for (let y = 0; y < dataPackage[i].Array_Feature.length; y++) {\n          arrFeature.push({ name: dataPackage[i].Array_Feature[y].Key, id: dataPackage[i].Array_Feature[y]._id });\n          arrSetDefault.push(dataPackage[i].Array_Feature[y]._id)\n        }\n      }\n    }\n\n    localStorage.setItem('arrFeature', JSON.stringify(arrSetDefault));\n    //Đang lấy đúng config của multiselect để đổ dữ liệu vào cho multi select\n    for (let i = 0; i < dataFeature.length; i++) {\n      //if (dataFeature[i].Type == \"1\") {\n      arrTemp.push({ name: dataFeature[i].Key, id: dataFeature[i]._id })\n      //}\n    }\n    return (\n      <Multiselect\n        options={arrTemp}\n        selectedValues={arrFeature}\n        onSelect={async (e) => {\n          arrChoose = new Array();\n          for (let i = 0; i < e.length; i++) {\n            arrChoose.push(e[i].id);\n          }\n          this.setState({ arrayChooseFeature: arrChoose });\n        }}\n        onRemove={async (e) => {\n          arrChoose = new Array();\n          for (let i = 0; i < e.length; i++) {\n            arrChoose.push(e[i].id);\n          }\n          this.setState({ arrayChooseFeature: arrChoose });\n        }}\n        displayValue=\"name\"\n      />\n    )\n  }\n\n  async addOrderPlugin() {\n    const { Company_Id, Package_Id, arrFeature, time_create, time_expried } = this.state;\n    var body = {\n      Company_Id: Company_Id,\n      Package_Id: Package_Id,\n      Array_Feature: arrFeature,\n      Active_Date: time_create,\n      End_Date: time_expried\n    }\n\n    const resOrder = await axios({\n      baseURL: Constants.BASE_URL,\n      url: Constants.ADD_PLUGIN_ORDER,\n      method: 'PUT',\n      data: body,\n      headers: this.state.token\n    });\n\n    if (resOrder.data.is_success == true) {\n      alert(resOrder.data.message);\n      window.location.reload();\n    } else {\n      alert(resOrder.data.message);\n    }\n  }\n\n  renderTable(arrFeature, company_name, package_name, package_time) {\n    const { currentSlug } = this.state;\n    return (\n      <table ble className=\"table table-hover table-outline mb-0 d-none d-sm-table\">\n        <thead className=\"thead-light\">\n          <tr>\n            <th className=\"text-center\">No.</th>\n            <th className=\"text-center\">Thời hạn</th>\n            <th className=\"text-center\">Tên tính năng</th>\n            <th className=\"text-center\">Đường dẫn</th>\n          </tr>\n        </thead>\n        <tbody>\n          <td colSpan=\"10\" hidden={true} className=\"text-center\">Không tìm thấy dữ liệu</td>\n          {\n            arrFeature != undefined || arrFeature.length != 0 || arrFeature != null ?\n              arrFeature.map((item, i) => {\n                return (\n                  <tr key={i}>\n                    <td className=\"text-center\">{i + 1}</td>\n                    <td className=\"text-center\">{package_time}</td>\n                    <td className=\"text-center\">{item.Key}</td>\n                    <td className=\"text-center\">{item.Value + currentSlug}</td>\n                  </tr>\n                );\n              }) : \"\"\n          }\n        </tbody>\n      </table>\n    )\n  }\n\n  getCurrentMonth(unit, value) {\n    var today = new Date();\n\n    switch (unit) {\n      case \"0\":\n        var date = today.setDate(today.getDate() + value);\n        return date;\n\n      case \"1\":\n        var month = today.setMonth(today.getMonth() + value);\n        return month;\n      case \"2\":\n        var year = today.setFullYear(today.getFullYear() + value);\n        return year;\n\n      default:\n        break;\n    }\n  }\n\n  getCurrentDate(year = 0, month = 6, date = 16) {\n    // setInterval(function () {\n    //   var date_future = new Date(new Date().getFullYear() + year, month, date, 11, 1, 10);\n    //   var date_now = new Date();\n\n    //   var seconds = Math.floor((date_future - (date_now)) / 1000);\n    //   var minutes = Math.floor(seconds / 60);\n    //   var hours = Math.floor(minutes / 60);\n    //   var days = Math.floor(hours / 24);\n\n    //   hours = hours - (days * 24);\n    //   minutes = minutes - (days * 24 * 60) - (hours * 60);\n    //   seconds = seconds - (days * 24 * 60 * 60) - (hours * 60 * 60) - (minutes * 60);\n\n    //   console.log(\"Time until new year: Days: \" + days + \" Hours: \" + hours + \" Minutes: \" + minutes + \" Seconds: \" + seconds);\n    // }, 1000);\n    // var delta = Math.abs(new Date(Date.now() + (86400000 * 2)) - new Date(Date.now() + (8640000))) / 1000;\n    // var days = Math.floor(delta / 86400);\n    // delta -= days * 86400;\n    // console.log(\"Duy: \", delta)\n    // //console.log(new Date(Date.now() + (8640000)).toLocaleDateString());\n    // return Number(new Date(Date.now() + (86400000 * 8)));\n  }\n\n  async onNext(Company_Id, Package_Id, arrayChooseFeature) {\n    const { package_key, package_unit, currentSlug, confirmSlug } = this.state;\n    if (Company_Id != '' && Package_Id != '') {\n      await this.getCompanyName(Company_Id)\n      await this.getPackageName(Package_Id)\n      await this.getFeatureChoose(arrayChooseFeature);\n\n      if (currentSlug != confirmSlug) {\n        await axios({\n          baseURL: Constants.BASE_URL,\n          url: Constants.UPDATE_SLUG,\n          method: 'POST',\n          data: {\n            id: Company_Id,\n            Slug: currentSlug\n          }\n        });\n\n        this.setState({ currentSlug: currentSlug })\n      }\n    } else {\n      alert('Vui lòng nhập đầy đủ thông tin !!!')\n    }\n\n    this.getCurrentDate();\n    this.getCurrentMonth();\n    this.setState({ disableNext: true, time_create: Date.now(), time_expried: this.getCurrentMonth(package_unit, Number(package_key)) })\n  }\n\n  handleChange = async (newValue, actionMeta) => {\n    this.setState({ objectValueCompany: newValue, Company_Id: newValue.value })\n    await this.getCompanyName(newValue.value)\n    console.log(newValue.value);\n  };\n\n  render() {\n    const { dataPackage, Company_Id, Package_Id, arrayChooseFeature,\n      company_name, package_name, package_time, arrFeature, package_key,\n      package_unit, currentSlug, objectValueCompany, arrOptionCompany } = this.state;\n\n    return (\n      <div className=\"animated fadeIn\">\n        <Card>\n          <CardHeader>\n            <i className=\"fa fa-align-justify\"></i> Quản lý đơn hàng\n          </CardHeader>\n          <CardBody>\n            <div style={styles.tags}>\n              <CRow>\n                <CCol sm=\"12\" lg=\"12\">\n                  <CRow>\n                    <CCol md=\"2\" lg=\"2\" sm=\"12\" xm=\"12\" lx=\"2\">\n                      <CLabel>Chọn công ty:</CLabel>\n                    </CCol>\n                    <CCol md=\"10\" lg=\"10\" sm=\"12\" xm=\"12\" lx=\"10\">\n                      <CreatableSelect\n                        isClearable\n                        onChange={this.handleChange}\n                        value={objectValueCompany}\n                        // onInputChange={this.handleInputChange}\n                        options={arrOptionCompany}\n                      />\n                    </CCol>\n                  </CRow>\n                </CCol>\n\n                <CCol sm=\"12\" lg=\"12\">\n                  <CLabel>Định danh</CLabel>\n                  <Input onChange={(e) => { this.setState({ currentSlug: e.target.value }) }} value={currentSlug} />\n                </CCol>\n\n                <CCol sm=\"12\" lg=\"12\">\n                  <div>\n                    <label style={styles.flexLabel} htmlFor=\"tag\">Chọn gói sản phẩm:    </label>\n                    <CSelect style={styles.flexOption} onChange={async e => { this.setState({ Package_Id: e.target.value }); await this.getPackageName(e.target.value) }}>\n                      <option value={this.state.Package_Id}>-----</option>\n                      {\n                        dataPackage.map((item, i) => {\n                          return (\n                            <option value={item._id}>{`${item.Name} (${item.Value} ${this.convertUnitToDate(item.Unit)})`}</option>\n                          );\n                        })\n                      }\n                    </CSelect>\n                  </div>\n                </CCol>\n\n\n                <CCol sm=\"12\" lg=\"12\">\n                  <label style={styles.flexLabel} htmlFor=\"tag\">Chọn các tính năng cho gói:    </label>\n                  {\n                    this.renderSelect()\n                  }\n                </CCol>\n\n                <CCol sm=\"12\" lg=\"12\">\n                  <label style={{ marginTop: 10 }} htmlFor=\"tag\">Số lượng tính năng: {this.state.arrayChooseFeature.length == 0 ? JSON.parse(localStorage.getItem('arrFeature')).length : this.state.arrayChooseFeature.length}    </label>\n                </CCol>\n\n                <CCol sm=\"12\" lg=\"12\">\n                  <CRow>\n                    <CCol sm=\"12\" lg=\"6\">\n                    </CCol>\n                    <CCol sm=\"12\" lg=\"6\">\n                      <CButton disabled={this.state.disableNext} outline color=\"primary\" style={styles.floatRight} size=\"sm\" onClick={async e => {\n                        await this.onNext(Company_Id, Package_Id, arrayChooseFeature);\n                      }}>Tiếp tục</CButton>\n                    </CCol>\n                  </CRow>\n                </CCol>\n                {arrFeature.length != 0 ?\n                  <CCol sm=\"12\" lg=\"12\">\n                    <CRow>\n                      <CCol sm=\"12\" lg=\"12\">\n                        KIỂM TRA LẠI ĐƠN HÀNG TRƯỚC KHI XÁC NHẬN\n                      </CCol>\n                      <CCol sm=\"12\" lg=\"12\">\n                        <strong>Tên Công Ty: {company_name}</strong>\n                      </CCol>\n                      <CCol sm=\"12\" lg=\"12\">\n                        <strong>Tên Gói: {package_name}</strong>\n                      </CCol>\n                      <CCol sm=\"12\" lg=\"12\">\n                        <strong>Thời gian kích hoạt dự kiến: {(new Date(Date.now())).toLocaleDateString()}</strong>\n                      </CCol>\n                      <CCol sm=\"12\" lg=\"12\">\n                        <strong>Thời gian hết hạn dự kiến: {new Date(this.getCurrentMonth(package_unit, Number(package_key))).toLocaleDateString()}</strong>\n                      </CCol>\n\n                      <CCol sm=\"12\" lg=\"12\">\n                        {\n                          this.renderTable(arrFeature, company_name, package_name, package_time)\n                        }\n                      </CCol>\n                      <CCol sm=\"12\" lg=\"12\">\n                        <CButton outline color=\"primary\" style={styles.floatRight} size=\"sm\" onClick={async e => {\n                          await this.addOrderPlugin();\n                        }}>Tạo đơn hàng</CButton>\n                      </CCol>\n                    </CRow>\n                  </CCol> : \"\"\n\n                }\n              </CRow>\n            </div>\n          </CardBody>\n        </Card>\n\n        <Modal isOpen={this.state.modalCom} >\n          <ModalHeader>Danh sách phần cứng</ModalHeader>\n\n          <ModalBody>\n\n          </ModalBody>\n          <ModalFooter>\n            <CButton color=\"primary\" onClick={e => { this.setState({ arrHardWard: this.state.arrChooseHard }); }}>Lưu</CButton>{' '}\n            <CButton color=\"secondary\" onClick={e => this.toggleModal(\"new\")}>Close</CButton>\n          </ModalFooter>\n        </Modal>\n      </div >\n\n    )\n\n  }\n}\n\nconst styles = {\n  pagination: {\n    marginRight: '5px'\n  },\n  flexLabel: {\n    width: '100%',\n    marginTop: 6\n  },\n  flexOption: {\n    width: '100%',\n    margin: '1px'\n  },\n  a: {\n    textDecoration: 'none'\n  },\n  floatRight: {\n    float: 'right',\n    margin: '5px'\n  },\n  spinner: {\n    width: \"30px\"\n  },\n  center: {\n    textAlign: \"center\"\n  },\n  tbody: {\n    height: \"380px\",\n    overflowY: \"auto\"\n  },\n  wh12: {\n    width: \"8%\",\n    float: \"left\",\n    height: \"80px\"\n  },\n  wh15: {\n    width: \"15%\",\n    float: \"left\",\n    height: \"80px\"\n  },\n  w5: {\n    width: \"12%\",\n    float: \"left\",\n    height: \"80px\"\n  },\n  wa10: {\n    width: \"5%\",\n    float: \"left\",\n    height: \"80px\"\n  },\n  row: {\n    float: \"left\",\n    width: \"100%\"\n  },\n  success: {\n    color: 'green'\n  },\n  danger: {\n    color: 'red'\n  },\n  mgl5: {\n    marginLeft: '5px'\n  },\n  tags: {\n    padding: 10,\n  },\n  searchInput: {\n    width: \"160px\",\n    display: 'inline-block',\n    margin: '1px'\n  },\n  userActive: {\n    color: 'green'\n  },\n  userPending: {\n    color: 'red'\n  },\n  nagemonNameCol: {\n    width: '328px'\n  },\n  image: {\n    width: '100px',\n    height: '100px',\n    borderRadius: '99999px'\n  },\n  mgl5: {\n    marginBottom: '5px'\n  }\n}\n\nexport default PluginCreateOrder;\n"],"sourceRoot":""}
