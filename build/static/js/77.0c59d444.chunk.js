(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[77],{1341:function(e,t,a){"use strict";a.r(t);var n=a(113),i=a.n(n),c=a(641),s=a(165),l=a(166),r=a(167),d=a(169),o=a(168),h=a(2),j=a(1259),u=a(1260),m=a(1261),p=a(1262),g=a(1263),b=a(661),f=a(1264),x=a(1340),O=a(1267),v=a(1268),k=a(1222),y=a(1329),w=a(1269),S=(a(645),a(648)),C=a.n(S),N=a(17),_=function(e){var t=e.field,a=e.value,n=e.label,i=e.error,c=e.type,s=e.onChange,l=e.checkUserExists,r=e.rows;return Object(N.jsxs)("div",{className:C()("form-group",{"has-error":i}),children:[Object(N.jsx)("label",{className:"control-label",children:n}),Object(N.jsx)("textarea",{onChange:s,onBlur:l,value:a,type:c,name:t,className:"form-control blacktext",rows:r}),i&&Object(N.jsx)("span",{className:"help-block",children:i})]})};_.defaultProps={type:"text",rows:"3"};var D=_,P=a(807),I=a.n(P),L=a(799),K=a.n(L);var T=a(652),H=a(1233),E=a.n(H),V=a(669),A=new Headers;A.append("Content-Type","application/json");var J=V.a.BASE_URL,R=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var n,r;return Object(l.a)(this,a),(r=t.call(this,e)).loadData=function(){var e=r.state,t=e.activePage,a=void 0===t?1:t,n=e.itemPerPage,i=void 0===n?200:n,c=e.key,s=void 0===c?"":c,l=e.idSDK,d=e.companyid,o={method:"GET"};fetch("".concat(J,"/itemSdk/suggest?limit=").concat(i,"&page=").concat(a,"&key=").concat(s,"&sdk_type=").concat(l,"&companyid=").concat(d),o).then((function(e){e.json().then((function(e){0==e.data.length?r.setState({hidden:!1}):r.setState({hidden:!0}),r.setState({data:e.data,itemsCount:e.totalItems})}))})).catch(console.log),fetch(J+"/sdk",o).then((function(e){e.json().then((function(e){r.setState({sdkItem:e||[],currentSdkSelect:e[0],isLoading:!1,currentItemSelect:null})}))})).catch(console.log)},r.execUpdate=function(e){var t,a=r.state.sdkItem.find((function(t){return t.name===e.level}));r.setState((t={action:"update",updateId:e._id,title_en:e.title_en||"",title_jp:e.title_jp||"",description_en:e.description_en||"",description_jp:e.description_jp||"",image:e.image,video:e.video,openDate:new Date,modal:!r.state.modal,name:e.name||""},Object(s.a)(t,"image",e.image||""),Object(s.a)(t,"title",e.title||""),Object(s.a)(t,"description",e.description||""),Object(s.a)(t,"linkdetail",e.linkdetail||""),Object(s.a)(t,"level",e.level||""),Object(s.a)(t,"sdktype",e.sdktype||""),Object(s.a)(t,"companyid",e.companyid||""),Object(s.a)(t,"currentSdkSelect",a),t))},r.deleteCard=function(e){if(window.confirm("Are you sure to delete this item?")){var t={method:"POST",headers:A,body:JSON.stringify({id:e})};fetch(J+"/itemSdk/deleteItem",t).then((function(){r.setState({deleted:"Item deleted",created:""}),r.loadData()})).catch((function(e){console.log("e",e)}))}},r.handlePageChange=function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({activePage:t,isLoading:!0},(function(){r.loadData()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onDateChange=function(e){e&&r.setState({openDate:e})},r.changeSdkType=function(e){e.preventDefault();var t=r.state.sdkItem.find((function(t){return t.name===e.target.value}));t&&r.setState({currentSdkSelect:t,level:t.name,sdktype:"1"})},r.changeLevel=function(e){e.preventDefault(),r.setState({sdktype:e.target.value})},r.updateApp=function(){var e=r.state,t=e.name,a=e.image,n=e.title,s=e.description,l=e.linkdetail,d=e.level,o=e.sdktype,h=e.action,j=e.updateId,u=e.companyid;if(r.isValid()){r.setState({errors:{},isLoading:!0});var m={name:t.trim()||"",image:a.trim()||"",title:n.trim()||"",description:s.trim()||"",linkdetail:l.trim()||"",level:d||"",sdktype:o||"",companyid:u};if("update"===h){var p={method:"PUT",headers:A,body:JSON.stringify(m)};fetch(J+"/itemSdk/".concat(j),p).then(Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.cancelCreate(),r.loadData(),r.setState({created:"News updated successfully",isLoading:!1,deleted:!1});case 3:case"end":return e.stop()}}),e)})))).catch(console.log)}else{var g={method:"POST",headers:A,body:JSON.stringify(m)};console.log(g),fetch(J+"/itemSdk",g).then(Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.cancelCreate(),r.loadData(),r.setState({created:"News created successfully",isLoading:!1,deleted:!1});case 3:case"end":return e.stop()}}),e)})))).catch(console.log)}}},r.state=(n={data:[],title_en:"",title_jp:"",image:"",video:"",description_en:"",description_jp:"",deleted:!1,isLoading:!1,errors:{},action:"",created:"",activePage:1,numPage:1,itemsCount:0,itemPerPage:20,openDate:new Date,name:""},Object(s.a)(n,"image",""),Object(s.a)(n,"key",""),Object(s.a)(n,"title",""),Object(s.a)(n,"description",""),Object(s.a)(n,"linkdetail",""),Object(s.a)(n,"level","K1"),Object(s.a)(n,"sdktype","1"),Object(s.a)(n,"sdkItem",[]),Object(s.a)(n,"currentSdkSelect",""),Object(s.a)(n,"currentItemSelect",null),Object(s.a)(n,"idSDK",window.location.hash.split("/")[window.location.hash.split("/").length-1]),Object(s.a)(n,"hidden",!1),Object(s.a)(n,"role",localStorage.getItem("role")),Object(s.a)(n,"companyid",localStorage.getItem("company_id")),n),r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadData();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toggle",value:function(e){this.setState({modal:!this.state.modal,action:e,isLoading:!1,updateId:"",title_en:"",title_jp:"",video:"",description_en:"",description_jp:"",deleted:!1,errors:{},openDate:new Date,name:"",image:"",title:"",description:"",linkdetail:"",level:"K1",sdktype:"1",companyid:""})}},{key:"cancelCreate",value:function(){var e;this.setState((e={modal:!1,updateId:"",title_en:"",title_jp:"",description_en:"",description_jp:"",image:"",video:"",openDate:new Date,name:""},Object(s.a)(e,"image",""),Object(s.a)(e,"title",""),Object(s.a)(e,"description",""),Object(s.a)(e,"linkdetail",""),Object(s.a)(e,"level","K1"),Object(s.a)(e,"sdktype","1"),Object(s.a)(e,"companyid",""),Object(s.a)(e,"currentSdkSelect",this.state.sdkItem[0]),e))}},{key:"inputChange",value:function(e){this.setState(Object(s.a)({},e.target.name,e.target.value))}},{key:"goSearch",value:function(){this.loadData()}},{key:"isValid",value:function(){var e=function(e){var t={};return I.a.isEmpty(e.name)&&(t.title_jp="Please enter name"),I.a.isEmpty(e.title)&&(t.description_en="Please enter title"),I.a.isEmpty(e.linkdetail)&&(t.description_jp="Please enter Link description"),(I.a.isEmpty(e.level)||I.a.isEmpty(e.sdktype))&&(t.openDate="Please enter valid data"),{errors:t,isValid:K()(t)}}(this.state),t=e.errors,a=e.isValid;return a||this.setState({errors:t}),a}},{key:"getBadgeSDK",value:function(e,t){var a=this.state.sdkItem;switch("K1"!=e&&"K2"!=e&&"K3"!=e&&"K4"!=e||(a.splice(t,1),this.setState({sdkItem:a})),e){case"K5":return"H\u1ed7 tr\u1ee3 gi\u1ea3m l\xe3o ho\xe1 da";case"K6":return"H\u1ed7 tr\u1ee3 \u0111i\u1ec1u tr\u1ecb m\u1ee5n";case"K7":return"H\u1ed7 tr\u1ee3 gi\u1ea3m qu\u1ea7ng th\xe2m m\u1eaft";case"K8":return"H\u1ed7 tr\u1ee3 gi\u1ea3m l\u1ed7 ch\xe2n l\xf4ng";case"K9":return"H\u1ed7 tr\u1ee3 gi\u1ea3m th\xe2m n\xe1m da"}}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=(t.title_en,t.title_jp,t.description_en,t.description_jp,t.video,t.errors),i=(t.openDate,t.name),c=t.image,s=t.title,l=t.description,r=t.linkdetail,d=(t.level,t.sdktype),o=(t.companyid,t.sdkItem),h=t.key,S=t.currentSdkSelect,C=this.state.activePage,_=this.state.itemPerPage;return this.state.isLoading?Object(N.jsx)("div",{id:"page-loading",children:Object(N.jsxs)("div",{className:"three-balls",children:[Object(N.jsx)("div",{className:"ball ball1"}),Object(N.jsx)("div",{className:"ball ball2"}),Object(N.jsx)("div",{className:"ball ball3"})]})}):Object(N.jsxs)("div",{className:"animated fadeIn",children:[Object(N.jsx)(j.a,{children:Object(N.jsxs)(u.a,{children:[Object(N.jsx)("p",{style:U.success,children:this.state.created}),Object(N.jsx)("p",{style:U.danger,children:this.state.deleted}),Object(N.jsxs)(m.a,{children:[Object(N.jsxs)(p.a,{children:[Object(N.jsx)("i",{className:"fa fa-align-justify"}),"S\u1ea3n ph\u1ea9m g\u1ee3i \xfd",Object(N.jsxs)("div",{style:U.tags,children:[Object(N.jsx)(g.a,{style:U.searchInput,onChange:function(t){return e.inputChange(t)},name:"key",value:h,placeholder:"T\xecm ki\u1ebfm"}),Object(N.jsx)(b.a,{outline:!0,color:"success",style:U.marginCenter,size:"sm",onClick:function(t){return e.goSearch()},children:"T\xecm ki\u1ebfm"}),Object(N.jsx)(b.a,{outline:!0,color:"primary",style:U.marginCenter,size:"sm",onClick:function(t){return e.toggle("new")},children:"Th\xeam"})]})]}),Object(N.jsx)(f.a,{children:Object(N.jsxs)("table",{ble:!0,className:"table table-hover table-outline mb-0 d-none d-sm-table",children:[Object(N.jsx)("thead",{className:"thead-light",children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{className:"text-center",children:"STT."}),Object(N.jsx)("th",{className:"text-center",children:"T\xean"}),Object(N.jsx)("th",{className:"text-center",children:"H\xecnh \u1ea3nh"}),Object(N.jsx)("th",{className:"text-center",children:"Ti\xeau \u0111\u1ec1"}),Object(N.jsx)("th",{className:"text-center",children:"M\xf4 t\u1ea3"}),Object(N.jsx)("th",{className:"text-center",children:"\u0110\u01b0\u1eddng d\u1eabn chi ti\u1ebft"}),Object(N.jsx)("th",{className:"text-center",children:"Lo\u1ea1i sdk"}),Object(N.jsx)("th",{className:"text-center",children:"C\u1ea5p \u0111\u1ed9"}),Object(N.jsx)("th",{className:"text-center"})]})}),Object(N.jsxs)("tbody",{children:[Object(N.jsx)("td",{colSpan:"10",hidden:this.state.hidden,className:"text-center",children:"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u"}),a.map((function(t,a){return t.description=t.description||"",Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-center",children:(C-1)*_+a+1}),Object(N.jsx)("td",{className:"text-center",children:t.name}),Object(N.jsx)("td",{className:"text-center",children:Object(N.jsx)("a",{href:t.image,target:"_blank",children:t.image?"View Image":""})}),Object(N.jsx)("td",{className:"text-center",children:t.title.substr(0,100)+(t.title.length>100?"...":"")}),Object(N.jsx)("td",{className:"text-center",children:t.description}),Object(N.jsx)("td",{className:"text-center",children:Object(N.jsx)("a",{target:"_blank",href:t.linkdetail,children:"Chi ti\u1ebft s\u1ea3n ph\u1ea9m"})}),Object(N.jsx)("td",{className:"text-center",children:t.level}),Object(N.jsx)("td",{className:"text-center",children:t.sdktype}),Object(N.jsxs)("td",{className:"text-center",children:[Object(N.jsx)(b.a,{outline:!0,color:"primary",size:"sm",onClick:function(a){return e.execUpdate(t)},children:"C\u1eadp nh\u1eadt"}),"\xa0",Object(N.jsx)(b.a,{outline:!0,color:"danger",size:"sm",onClick:function(a){return e.deleteCard(t._id)},children:"X\xf3a"})]})]},a)}))]})]})})]}),Object(N.jsx)(E.a,{activePage:this.state.activePage,itemsCountPerPage:this.state.itemPerPage,totalItemsCount:this.state.itemsCount,pageRangeDisplayed:10,onChange:function(t){return e.handlePageChange(t)},itemClass:"page-item",linkClass:"page-link"})]})}),Object(N.jsxs)(x.a,{isOpen:this.state.modal,toggle:function(t){return e.cancelCreate()},className:this.props.className,children:[Object(N.jsx)(O.a,{toggle:function(){return e.toggle()},children:"update"===this.state.action?"C\u1eadp nh\u1eadt":"T\u1ea1o m\u1edbi "}),Object(N.jsx)(v.a,{children:Object(N.jsxs)(k.a,{children:[Object(N.jsx)(T.a,{field:"name",label:"T\xean s\u1ea3n ph\u1ea9m",value:i,error:n.name,onChange:function(t){return e.inputChange(t)}}),Object(N.jsx)(T.a,{field:"image",label:"H\xecnh \u1ea3nh",value:c,error:n.image,onChange:function(t){return e.inputChange(t)}}),Object(N.jsx)(T.a,{field:"title",label:"Ti\xeau \u0111\u1ec1",value:s,error:n.title||"",onChange:function(t){return e.inputChange(t)}}),Object(N.jsx)(D,{field:"description",label:"M\xf4 t\u1ea3",value:l,error:n.description,onChange:function(t){return e.inputChange(t)},rows:"7"}),Object(N.jsx)(T.a,{field:"linkdetail",label:"Link Detail",value:r,error:n.linkdetail||"",onChange:function(t){return e.inputChange(t)}}),Object(N.jsxs)(y.a,{row:!0,children:[Object(N.jsx)(u.a,{md:"3",children:Object(N.jsx)("label",{htmlFor:"tag",children:"Lo\u1ea1i SDK:"})}),Object(N.jsx)(u.a,{md:"9",children:Object(N.jsx)("select",{name:"level",value:S.name,onChange:function(t){return e.changeSdkType(t)},children:o.map((function(t,a){return Object(N.jsx)("option",{value:t.name,children:e.getBadgeSDK(t.name,e.isValid)},a)}))})})]}),Object(N.jsxs)(y.a,{row:!0,children:[Object(N.jsx)(u.a,{md:"3",children:Object(N.jsx)("label",{htmlFor:"tag",children:"C\u1ea5p \u0111\u1ed9:"})}),Object(N.jsx)(u.a,{md:"9",children:void 0!==S.sdktype?Object(N.jsx)("select",{name:"sdktype",value:d,onChange:function(t){return e.changeLevel(t)},children:S.sdktype.split(",").map((function(e,t){return Object(N.jsx)("option",{value:e,children:e},t)}))}):null})]})]})}),Object(N.jsxs)(w.a,{children:[Object(N.jsx)(b.a,{color:"primary",onClick:function(t){e.updateApp()},disabled:this.state.isLoading,children:"L\u01b0u"}),"\xa0\xa0",Object(N.jsx)(b.a,{color:"secondary",onClick:function(t){return e.cancelCreate()},children:"H\u1ee7y"})]})]})]})}}]),a}(h.Component),U={a:{textDecoration:"none"},floatRight:{float:"right"},floatCenter:{float:"center"},marginCenter:{marginLeft:"5px",marginRight:"5px"},spinner:{width:"30px"},center:{textAlign:"center"},tbody:{height:"380px",overflowY:"auto"},wh5:{width:"5%",float:"left",height:"70px"},wh10:{width:"9.8%",float:"left",height:"70px"},wh15:{width:"15%",float:"left",height:"70px"},wh20:{width:"20%",float:"left",height:"70px"},wh25:{width:"25%",float:"left",height:"70px"},wh30:{width:"30%",float:"left",height:"70px"},wh40:{width:"40%",float:"left",height:"70px"},w5:{width:"5%",float:"left"},w10:{width:"10%",float:"left"},w15:{width:"15%",float:"left"},w20:{width:"20%",float:"left"},w25:{width:"25%",float:"left"},w30:{width:"30%",float:"left"},w40:{width:"40%",float:"left"},row:{float:"left",width:"100%"},success:{color:"green"},danger:{color:"red"},mgl5:{marginLeft:"5px"},tags:{float:"right",marginRight:"5px",display:"flex",justifyContent:"center",alignItems:"center"},searchInput:{width:"190px",display:"inline-block"}};t.default=R}}]);
//# sourceMappingURL=77.0c59d444.chunk.js.map