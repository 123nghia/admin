{"version":3,"sources":["views/Pages/Login/Login.js","shared/validations/login.js","contants/contants.js","views/Common/TextFieldGroup.js"],"names":["Login","props","state","username","password","errors","isLoading","localStorage","removeItem","location","pathname","window","href","data","Validator","isEmpty","isValid","validateInput","this","setState","e","a","preventDefault","axios","baseURL","Constants","BASE_URL","url","LOGIN_ADMIN","method","md5","res","is_success","token","jwt","decode","setItem","JSON","stringify","company_id","Company_Id","sale_id","_id","role","history","push","console","log","common","target","name","value","className","Container","Row","Col","md","onSubmit","CardGroup","Card","CardBody","InputGroup","TextFieldGroup","field","label","error","onChange","type","xs","Button","color","disabled","Component","checkUserExists","readOnly","placeholder","classnames","onBlur","defaultProps"],"mappings":"kvBASMA,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACXC,SAAU,GACVC,SAAU,GACVC,OAAQ,GACRC,WAAW,GAEbC,aAAaC,WAAW,QACa,YAAjC,EAAKP,MAAMQ,SAASC,WAAwBC,OAAOF,SAASG,KAAO,WATtD,E,2CAWnB,WACE,MCnBW,SAAuBC,GAClC,IAAIR,EAAS,GAUb,OARGS,IAAUC,QAAQF,EAAKV,YACtBE,EAAOF,SAAW,yBAGnBW,IAAUC,QAAQF,EAAKT,YACtBC,EAAOD,SAAW,yBAGf,CACHC,SACAW,QAASD,IAAQV,IDMOY,CAAcC,KAAKhB,OAAvCG,EAAR,EAAQA,OAAQW,EAAhB,EAAgBA,QAKhB,OAHKA,GACHE,KAAKC,SAAS,CAAEd,WAEXW,I,6DAET,WAAeI,GAAf,iBAAAC,EAAA,yDACED,EAAEE,kBACEJ,KAAKF,UAFX,uBAGIE,KAAKC,SAAS,CAAEd,OAAQ,GAAIC,WAAW,IAH3C,SAIsBiB,IAAM,CACtBC,QAASC,IAAUC,SACnBC,IAAKF,IAAUG,YACfC,OAAQ,OACRhB,KAAM,CACJV,SAAUe,KAAKhB,MAAMC,SACrBC,SAAU0B,IAAIZ,KAAKhB,MAAME,aAVjC,QAIU2B,EAJV,QAcWlB,KAAKmB,YACNC,EAAQC,IAAIC,OAAOJ,EAAIlB,KAAKA,KAAKoB,OACrC1B,aAAa6B,QAAQ,OAAQC,KAAKC,UAAU,CAAEnC,SAAUe,KAAKhB,MAAMC,SACjEC,SAAUc,KAAKhB,MAAME,SAAUmC,WAAYR,EAAIlB,KAAKA,KAAKA,KAAK2B,WAAYC,QAASV,EAAIlB,KAAKA,KAAKA,KAAK6B,OACxGnC,aAAa6B,QAAQ,OAAQ,OAC7B7B,aAAa6B,QAAQ,OAAQH,EAAMU,MACnCpC,aAAa6B,QAAQ,QAASL,EAAIlB,KAAKA,KAAKoB,OAE5Cf,KAAKjB,MAAM2C,QAAQC,KAAK,gBAExBC,QAAQC,IAAI7B,KAAKhB,MAAMC,UACvB2C,QAAQC,IAAI7B,KAAKhB,MAAME,UACvBc,KAAKC,SAAS,CAAEb,WAAW,EAAOD,OAAQ,CAAE2C,OAAQ,wCA1B1D,gD,6EA8BA,SAAS5B,GACPF,KAAKC,SAAL,eAAiBC,EAAE6B,OAAOC,KAAO9B,EAAE6B,OAAOE,U,oBAE5C,WAAU,IAAD,OACP,EAAkDjC,KAAKhB,MAA/CG,EAAR,EAAQA,OAAQF,EAAhB,EAAgBA,SAAUC,EAA1B,EAA0BA,SAAUE,EAApC,EAAoCA,UACpC,OACE,qBAAK8C,UAAU,uCAAf,SACE,cAACC,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CAAKF,UAAU,yBAAf,SACE,cAACG,EAAA,EAAD,CAAKC,GAAG,IAAR,SACE,sBAAMC,SAAQ,uCAAE,WAAMrC,GAAN,SAAAC,EAAA,sEAAiB,EAAKoC,SAASrC,GAA/B,mFAAF,sDAAd,SACE,cAACsC,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CAAMP,UAAU,MAAhB,SACE,eAACQ,EAAA,EAAD,WACE,uCACA,sBAAMR,UAAU,QAAhB,SAAyB/C,EAAO2C,SAChC,cAACa,EAAA,EAAD,CAAYT,UAAU,OAAtB,SACE,cAACU,EAAA,EAAD,CACEC,MAAM,WACNC,MAAM,WACNb,MAAOhD,EACP8D,MAAO5D,EAAOF,SACd+D,SAAU,SAAA9C,GAAC,OAAI,EAAK8C,SAAS9C,QAGjC,cAACyC,EAAA,EAAD,CAAYT,UAAU,OAAtB,SACE,cAACU,EAAA,EAAD,CACEK,KAAK,WACLJ,MAAM,WACNC,MAAM,WACNb,MAAO/C,EACP6D,MAAO5D,EAAOD,SACd8D,SAAU,SAAA9C,GAAC,OAAI,EAAK8C,SAAS9C,QAGjC,cAACkC,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CAAKa,GAAG,IAAR,SACE,cAACC,EAAA,EAAD,CAAQC,MAAM,UAAUlB,UAAU,OAAOmB,SAAUjE,EAAnD,4C,GAvFNkE,aAqGLxE,a,iCE9GA,KACb,SAAa,gCAEb,UAAc,iBACd,kBAAsB,qBACtB,SAAa,gBACb,YAAgB,mBAChB,YAAgB,mBAChB,YAAgB,mBAChB,SAAa,gBACb,SAAa,gBACb,gBAAoB,mCACpB,yBAA6B,4CAC7B,uBAA2B,iCAC3B,+BAAmC,mCACnC,4BAAgC,mCAChC,WAAe,gBACf,cAAiB,qBACjB,eAAkB,qBAElB,cAAkB,qBAClB,uBAA2B,8BAE3B,6BAAiC,+BAEjC,aAAiB,oBACjB,qBAAyB,wBACzB,YAAgB,mBAChB,eAAmB,sBACnB,eAAmB,sBAEnB,cAAkB,qBAClB,sBAA0B,yBAC1B,aAAiB,oBACjB,gBAAoB,uBACpB,gBAAoB,uBAEpB,WAAe,2BACf,UAAc,iBACd,oBAAwB,2BAExB,iBAAqB,wBACrB,gBAAoB,uBAEpB,eAAmB,qBACnB,uBAA2B,sCAC3B,uBAA2B,8BAE3B,kBAAsB,wBACtB,iBAAqB,uBAErB,UAAc,iBACd,kBAAsB,qBACtB,SAAa,gBACb,YAAgB,mBAChB,YAAgB,mBAEhB,aAAiB,oBACjB,qBAAyB,wBACzB,YAAgB,mBAChB,eAAmB,sBACnB,eAAmB,sBAEnB,UAAc,qBACd,UAAc,iBACd,kBAAsB,qBACtB,SAAa,gBACb,YAAgB,mBAChB,YAAgB,mBAEhB,cAAkB,qBAClB,sBAA0B,yBAC1B,aAAiB,oBACjB,gBAAoB,uBACpB,gBAAoB,uBAEpB,SAAa,gBACb,iBAAqB,oBACrB,QAAY,eACZ,WAAe,kBACf,WAAe,kBAEf,aAAiB,oBACjB,qBAAyB,wBACzB,YAAgB,mBAChB,eAAmB,sBACnB,eAAmB,sBACnB,aAAiB,wBAEjB,UAAc,iBACd,kBAAsB,qBACtB,SAAa,gBACb,YAAgB,mBAChB,YAAgB,mBAChB,iBAAmB,kBAEnB,mBAAsB,0BACtB,kBAAqB,yBACrB,qBAAwB,4BACxB,oBAAuB,2BAEvB,oBAAuB,2BACvB,mBAAsB,0BACtB,sBAAyB,6BACzB,sBAAyB,6BACzB,aAAgB,0BAEhB,sBAAyB,6BACzB,qBAAwB,4BACxB,wBAA2B,+BAC3B,wBAA2B,+BAC3B,eAAkB,4BAElB,cAAiB,qBACjB,aAAgB,oBAChB,gBAAmB,uBACnB,gBAAmB,uBACnB,gBAAmB,uBAEnB,YAAe,mBACf,cAAiB,qBACjB,WAAc,oB,iCCzHhB,mCAIM8D,EAAiB,SAAC,GAA4F,IAA1FC,EAAyF,EAAzFA,MAAOZ,EAAkF,EAAlFA,MAAOa,EAA2E,EAA3EA,MAAOC,EAAoE,EAApEA,MAAOE,EAA6D,EAA7DA,KAAMD,EAAuD,EAAvDA,SAAUO,EAA6C,EAA7CA,gBAAiBC,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,YAC/F,OACE,sBAAKvB,UAAWwB,IAAW,aAAc,CAAE,YAAaX,IAAxD,UACE,uBAAOb,UAAU,gBAAjB,SAAkCY,IAClC,uBACEE,SAAUA,EACVW,OAAQJ,EACRtB,MAAOA,EACPgB,KAAMA,EACNjB,KAAMa,EACNY,YAAaA,EACbD,SAAUA,EACVtB,UAAU,iBAEba,GAAS,sBAAMb,UAAU,aAAhB,SAA8Ba,QAc5CH,EAAegB,aAAe,CAC5BX,KAAM,QAGOL","file":"static/js/22.32cb9525.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Card, CardBody, CardGroup, Col, Container, InputGroup, Row } from 'reactstrap';\nimport validateInput from '../../../shared/validations/login';\nimport TextFieldGroup from '../../Common/TextFieldGroup';\nimport axios from 'axios'\nimport jwt from 'jsonwebtoken'\nimport Constants from \"./../../../contants/contants\";\nimport md5 from \"md5\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      errors: {},\n      isLoading: false\n    }\n    localStorage.removeItem('auth');\n    if (this.props.location.pathname === '/logout') window.location.href = '#/login';\n  }\n  isValid() {\n    const { errors, isValid } = validateInput(this.state);\n\n    if (!isValid) {\n      this.setState({ errors });\n    }\n    return isValid;\n  }\n  async onSubmit(e) {\n    e.preventDefault();\n    if (this.isValid()) {\n      this.setState({ errors: {}, isLoading: true });\n      const res = await axios({\n        baseURL: Constants.BASE_URL,\n        url: Constants.LOGIN_ADMIN,\n        method: 'POST',\n        data: {\n          username: this.state.username,\n          password: md5(this.state.password)\n        }\n      });\n\n      if(res.data.is_success){\n        var token = jwt.decode(res.data.data.token);\n        localStorage.setItem('user', JSON.stringify({ username: this.state.username,\n          password: this.state.password, company_id: res.data.data.data.Company_Id, sale_id: res.data.data.data._id }));\n        localStorage.setItem('auth', 'abv');\n        localStorage.setItem('role', token.role);\n        localStorage.setItem('token', res.data.data.token);\n\n        this.props.history.push('/dashboard')\n      } else {\n        console.log(this.state.username)\n        console.log(this.state.password)\n        this.setState({ isLoading: false, errors: { common: 'Username or password is incorrect' } });\n      }\n    }\n  }\n  onChange(e) {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n  render() {\n    const { errors, username, password, isLoading } = this.state;\n    return (\n      <div className=\"app flex-row align-items-center mt-5\">\n        <Container>\n          <Row className=\"justify-content-center\">\n            <Col md=\"4\">\n              <form onSubmit={async e => await this.onSubmit(e)}>\n                <CardGroup>\n                  <Card className=\"p-4\">\n                    <CardBody>\n                      <h1>Login</h1>\n                      <span className=\"error\">{errors.common}</span>\n                      <InputGroup className=\"mb-3\">\n                        <TextFieldGroup\n                          field=\"username\"\n                          label=\"Username\"\n                          value={username}\n                          error={errors.username}\n                          onChange={e => this.onChange(e)}\n                        />\n                      </InputGroup>\n                      <InputGroup className=\"mb-4\">\n                        <TextFieldGroup\n                          type=\"password\"\n                          field=\"password\"\n                          label=\"Password\"\n                          value={password}\n                          error={errors.password}\n                          onChange={e => this.onChange(e)}\n                        />\n                      </InputGroup>\n                      <Row>\n                        <Col xs=\"6\">\n                          <Button color=\"primary\" className=\"px-4\" disabled={isLoading}>Login</Button>\n                        </Col>\n                      </Row>\n                    </CardBody>\n                  </Card>\n                </CardGroup>\n              </form>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    );\n  }\n}\nexport default Login;\n","import Validator from 'validator';\nimport isEmpty from 'lodash/isEmpty';\n\nexport default function validateinput(data) {\n    let errors = {};\n\n    if(Validator.isEmpty(data.username)) {\n        errors.username = 'Please enter username'\n    }\n\n    if(Validator.isEmpty(data.password)) {\n        errors.password = 'Please enter password'\n    }\n\n    return {\n        errors,\n        isValid: isEmpty(errors)\n    }\n}\n","export default {\n  \"BASE_URL\" : \"https://admin-api.tikitech.vn\",\n  //\"BASE_URL\" : \"http://localhost:3006\",\n  \"LIST_USER\" : \"/api/list-user\",\n  \"LIST_USER_WITH_ID\" : \"/api/list-user?id=\",\n  \"ADD_USER\" : \"/api/add-user\",\n  \"UPDATE_USER\" : \"/api/update-user\",\n  \"DELETE_USER\" : \"/api/delete-user\",\n  \"LOGIN_ADMIN\" : \"/api/login_admin\",\n  \"GET_SHOP\" : \"/api/get-shop\",\n  \"GET_SALE\" : \"/api/get-sale\",\n  \"GET_COEFFICIENT\" : \"/api/calculator-coefficient-user\",\n  \"GET_COEFFICIENT_PER_SALE\" : \"/api/calculator-coefficient-user-per-sale\",\n  \"GET_USER_SALE_BY_MONTH\" : \"/api/get-user-of-sale-by-month\",\n  \"CALCULATOR_ALL_USER_OF_COMPANY\" : \"/api/calculator-all-user-company\",\n  \"CALCULATOR_ALL_USER_OF_SALE\" : \"/api/calculator-all-user-of-sale\",\n  \"GET_SEEDER\" : \"/api/get-seed\",\n  \"GET_SALE_NAME\": \"/api/get-name-sale\",\n  \"GET_USER_BY_ID\": \"/api/get-user-byID\",\n\n  \"LIST_CUSTOMER\" : \"/api/list-customer\",\n  \"LIST_CUSTOMER_BY_MONTH\" : \"/api/get-user-sale-by-month\",\n\n  \"LIST_CUSTOMER_BY_MONTH_ADMIN\" : \"/api/get-user-by-month-admin\",\n\n  \"LIST_TYPEKEY\" : \"/api/list-typekey\",\n  \"LIST_TYPEKEY_WITH_ID\" : \"/api/list-typekey?id=\",\n  \"ADD_TYPEKEY\" : \"/api/add-typekey\",\n  \"UPDATE_TYPEKEY\" : \"/api/update-typekey\",\n  \"DELETE_TYPEKEY\" : \"/api/delete-typekey\",\n\n  \"LIST_HARDWARE\" : \"/api/list-hardware\",\n  \"LIST_HARDWARE_WITH_ID\" : \"/api/list-hardware?id=\",\n  \"ADD_HARDWARE\" : \"/api/add-hardware\",\n  \"UPDATE_HARDWARE\" : \"/api/update-hardware\",\n  \"DELETE_HARDWARE\" : \"/api/delete-hardware\",\n\n  \"LIST_ORDER\" : \"/api/list-order-hardward\",\n  \"ADD_ORDER\" : \"/api/add-order\",\n  \"UPDATE_STATUS_ORDER\" : \"/api/update-status-order\",\n\n  \"LIST_TRANSACTION\" : \"/api/list-transaction\",\n  \"ADD_TRANSACTION\" : \"/api/add-transaction\",\n\n  \"LIST_CHECK_OUT\" : \"/api/list-checkout\",\n  \"LIST_HARDWARE_CHECKOUT\" : \"/api/get-list-hardward-by-check-out\",\n  \"UPDATE_STATUS_CHECKOUT\" : \"/api/update-status-hardware\",\n\n  \"LIST_ORDER_DETAIL\" : \"/api/list-orderdetail\",\n  \"ADD_ORDER_DETAIL\" : \"/api/add-orderdetail\",\n\n  \"LIST_ROLE\" : \"/api/list-role\",\n  \"LIST_ROLE_WITH_ID\" : \"/api/list-role?id=\",\n  \"ADD_ROLE\" : \"/api/add-role\",\n  \"UPDATE_ROLE\" : \"/api/update-role\",\n  \"DELETE_ROLE\" : \"/api/delete-role\",\n\n  \"LIST_SALELOG\" : \"/api/list-salelog\",\n  \"LIST_SALELOG_WITH_ID\" : \"/api/list-salelog?id=\",\n  \"ADD_SALELOG\" : \"/api/add-salelog\",\n  \"UPDATE_SALELOG\" : \"/api/update-salelog\",\n  \"DELETE_SALELOG\" : \"/api/delete-salelog\",\n\n  \"DATA_SALE\" : \"/api/get-data-sale\",\n  \"LIST_SALE\" : \"/api/list-sale\",\n  \"LIST_SALE_WITH_ID\" : \"/api/list-sale?id=\",\n  \"ADD_SALE\" : \"/api/add-sale\",\n  \"UPDATE_SALE\" : \"/api/update-sale\",\n  \"DELETE_SALE\" : \"/api/delete-sale\",\n\n  \"LIST_KEYORDER\" : \"/api/list-keyorder\",\n  \"LIST_KEYORDER_WITH_ID\" : \"/api/list-keyorder?id=\",\n  \"ADD_KEYORDER\" : \"/api/add-keyorder\",\n  \"UPDATE_KEYORDER\" : \"/api/update-keyorder\",\n  \"DELETE_KEYORDER\" : \"/api/delete-keyorder\",\n\n  \"LIST_KEY\" : \"/api/list-key\",\n  \"LIST_KEY_WITH_ID\" : \"/api/list-key?id=\",\n  \"ADD_KEY\" : \"/api/add-key\",\n  \"UPDATE_KEY\" : \"/api/update-key\",\n  \"DELETE_KEY\" : \"/api/delete-key\",\n\n  \"LIST_COMPANY\" : \"/api/list-company\",\n  \"LIST_COMPANY_WITH_ID\" : \"/api/list-company?id=\",\n  \"ADD_COMPANY\" : \"/api/add-company\",\n  \"UPDATE_COMPANY\" : \"/api/update-company\",\n  \"DELETE_COMPANY\" : \"/api/delete-company\",\n  \"DATA_COMPANY\" : \"/api/get-data-company\",\n\n  \"LIST_LINK\" : \"/api/list-link\",\n  \"LIST_LINK_WITH_ID\" : \"/api/list-link?id=\",\n  \"ADD_LINK\" : \"/api/add-link\",\n  \"UPDATE_LINK\" : \"/api/update-link\",\n  \"DELETE_LINK\" : \"/api/delete-link\",\n  \"GET-LINK-BY-ID\" : \"/api/link-by-id\",\n\n  \"LIST_CHECKED_ORDER\": \"/api/list-order-checked\",\n  \"ADD_CHECKED_ORDER\": \"/api/add-order-checked\",\n  \"LIST_CHECKED_PRODUCT\": \"/api/list-product-checked\",\n  \"ADD_CHECKED_PRODUCT\": \"/api/add-product-checked\",\n\n  \"LIST_BRAND_HARDWARE\": \"/api/list-brand-hardward\",\n  \"ADD_BRAND_HARDWARE\": \"/api/add-brand-hardward\",\n  \"UPDATE_BRAND_HARDWARE\": \"/api/update-brand-hardward\",\n  \"DELETE_BRAND_HARDWARE\": \"/api/delete-brand-hardward\",\n  \"UPLOAD_BRAND\": \"/api/upload-image-brand\",\n\n  \"LIST_PRODUCT_HARDWARE\": \"/api/list-product-hardward\",\n  \"ADD_PRODUCT_HARDWARE\": \"/api/add-product-hardward\",\n  \"UPDATE_PRODUCT_HARDWARE\": \"/api/update-product-hardward\",\n  \"DELETE_PRODUCT_HARDWARE\": \"/api/delete-product-hardward\",\n  \"UPLOAD_PRODUCT\": \"/api/upload-image-product\",\n\n  \"LIST_CATEGORY\": \"/api/list-category\",\n  \"ADD_CATEGORY\": \"/api/add-category\",\n  \"UPDATE_CATEGORY\": \"/api/update-category\",\n  \"DELETE_CATEGORY\": \"/api/delete-category\",\n  \"UPLOAD_CATEGORY\": \"/api/upload-category\",\n\n  \"ADMIN_CHART\": \"/api/admin-chart\",\n  \"COMPANY_CHART\": \"/api/company-chart\",\n  \"SALE_CHART\": \"/api/sale-chart\",\n\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nconst TextFieldGroup = ({ field, value, label, error, type, onChange, checkUserExists, readOnly, placeholder }) => {\n  return (\n    <div className={classnames('form-group', { 'has-error': error })}>\n      <label className=\"control-label\">{label}</label>\n      <input\n        onChange={onChange}\n        onBlur={checkUserExists}\n        value={value}\n        type={type}\n        name={field}\n        placeholder={placeholder}\n        readOnly={readOnly}\n        className=\"form-control\"\n      />\n    {error && <span className=\"help-block\">{error}</span>}\n    </div>  );\n}\n\nTextFieldGroup.propTypes = {\n  field: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  error: PropTypes.string,\n  type: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  checkUserExists: PropTypes.func\n}\n\nTextFieldGroup.defaultProps = {\n  type: 'text'\n}\n\nexport default TextFieldGroup;\n"],"sourceRoot":""}