(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[31],{1331:function(e,t,a){"use strict";a.r(t);var n,s=a(810),r=a(159),i=a(672),c=a.n(i),l=a(700),o=a(160),d=a(161),u=a(163),h=a(162),p=a(1),g=a(805),j=a(806),m=a(832),b=a(833),x=a(834),O=a(835),f=a(1033),v=a(653),w=a(699),y=(a(816),a(933),a(685)),S=a(705),C=a.n(S),_=a(729),P=a(817),k=a.n(P),I=a(14),N=new Headers,U=localStorage.getItem("auth");N.append("Authorization","Bearer "+U),N.append("Content-Type","application/json");var A=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getData=Object(l.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isLoading:!0}),e.next=3,C()({baseURL:y.a.BASE_URL,url:y.a.PLUGIN_GET_USER_BYID,method:"POST",headers:n.state.token});case 3:t=e.sent,a=t.data.data,n.setState({dataApi:a,data:a,currentPassword:a.Password,isLoading:!1,current_slug:null==a.Company_Id||void 0==a.Company_Id?null:a.Company_Id.Slug,companyID:null==a.Company_Id||void 0==a.Company_Id?null:a.Company_Id._id,Email:a.Email,Name:a.Name,Phone:a.Phone,Address:a.Address,UserName:a.UserName,Message_Code:a.Message_Code,isDisable:!0});case 6:case"end":return e.stop()}}),e)}))),n.getPackageName=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C()({baseURL:y.a.BASE_URL,url:y.a.PLUGIN_DATA_PACKAGE,method:"POST",data:{package_id:t}});case 2:return a=e.sent,e.abrupt("return",a.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={data:[],updated:"",dataApi:[],delete:null,hidden:!0,token:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},role:localStorage.getItem("role"),type:localStorage.getItem("type"),company_id:localStorage.getItem("user"),current_slug:"",companyID:"",arrTotalPackage:[],isChange:!0,isChangeSlug:!0,currentPassword:"",isLoading:!1,isDisable:!0,Email:"",Name:"",Phone:"",Address:"",UserName:"",Message_Code:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.getData(),t=JSON.parse(localStorage.getItem("url")),a=0;a<t.length;a++)"#"+t[a].to==window.location.hash&&1==t[a].hidden&&(window.location.href="#/");case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChange",value:function(e,t){this.setState(Object(r.a)({},e,t))}},{key:"openUpdate",value:function(e){this.setState(Object(r.a)({},e,!this.state[e]))}},{key:"inputChange",value:function(e){this.setState(Object(r.a)({},e.target.name,e.target.value))}},{key:"updatePassword",value:function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C()({baseURL:y.a.BASE_URL,url:y.a.PLUGIN_UPDATE_PASSWORD,method:"POST",data:{id:t,new_password:a}});case 2:1==(n=e.sent).data.is_success?(this.getData(),this.setState({isChange:!0})):(alert(n.data.message),this.setState({isLoading:!1}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"updateSlug",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C()({baseURL:y.a.BASE_URL,url:y.a.UPDATE_SLUG,method:"POST",data:{id:this.state.companyID,Slug:this.state.current_slug}});case 2:1==(t=e.sent).data.is_success?(this.getData(),this.setState({isChangeSlug:!0})):(alert(t.data.message),this.setState({isChangeSlug:!1}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCompany",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n,s,r,i,l,o,d,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.Email,n=t.Name,s=t.Phone,r=t.Address,i=t.UserName,l=t.data,o=t.Message_Code,null!=n&&""!=n&&null!=s&&""!=s&&null!=i&&""!=i){e.next=4;break}return alert("Vui l\xf2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 tr\u01b0\u1eddng !!!"),e.abrupt("return");case 4:return d={isHash:!1,Name:""==n?l.Name:n,Email:""==a?l.Email:a,Phone:""==s?l.Phone:s,Address:""==r?l.Address:r,UserName:""==i?l.UserName:i,Message_Code:""==o||null==o?l.Message_Code:o,Password:l.Password,Status:l.Status,id:l._id},this.setState({isLoading:!0}),e.next=8,C()({baseURL:y.a.BASE_URL,url:y.a.PLUGIN_UPDATE_USER_COMPANY,method:"POST",data:d});case 8:1==(u=e.sent).data.is_success?this.getData():(alert(u.data.message),this.setState({isLoading:!1}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.current_slug,s=t.isChange,r=t.currentPassword,i=(t.isChangeSlug,t.type),o=t.isDisable,d=t.Email,u=t.Name,h=t.Phone,p=t.Address,y=t.UserName;t.Message_Code;return this.state.isLoading?Object(I.jsx)("div",{className:"sweet-loading",children:Object(I.jsx)(k.a,{css:L,size:50,color:"#123abc",loading:this.state.isLoading,speedMultiplier:1.5})}):Object(I.jsx)("div",{className:"animated fadeIn",children:Object(I.jsx)(g.a,{children:Object(I.jsxs)(j.a,{children:[Object(I.jsx)("p",{style:E.success,children:this.state.updated}),Object(I.jsx)("p",{style:E.danger,children:this.state.deleted}),Object(I.jsxs)(m.a,{children:[Object(I.jsx)(b.a,{children:"TH\xd4NG TIN T\xc0I KHO\u1ea2N"}),Object(I.jsx)(x.a,{className:"table__overflow",children:Object(I.jsx)(v.F,{children:Object(I.jsxs)(v.i,{sm:"12",lg:"12",children:[Object(I.jsxs)(v.F,{children:[Object(I.jsx)(v.i,{sm:"12",lg:"10",children:Object(I.jsx)(v.C,{children:Object(I.jsx)("strong",{children:"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n"})})}),"0"==i||"1"==i?"":Object(I.jsx)(v.i,{sm:"12",lg:"2",children:Object(I.jsx)(v.Q,{content:"Xem chi ti\u1ebft \u0111\u01a1n h\xe0ng",children:o?Object(I.jsxs)(v.d,{outline:!0,color:"info",size:"xm",onClick:function(){var t=Object(l.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({isDisable:!o});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:[Object(I.jsx)(w.a,{name:"cil-pencil"})," C\u1eadp nh\u1eadt"]}):Object(I.jsxs)(v.d,{outline:!0,color:"info",size:"sm",onClick:function(){var t=Object(l.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.updateCompany();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:[Object(I.jsx)(w.a,{name:"cil-pencil"})," X\xe1c nh\u1eadn c\u1eadp nh\u1eadt"]})})})]}),Object(I.jsxs)(v.F,{children:[Object(I.jsx)(v.i,{sm:"12",lg:"12",children:Object(I.jsxs)("div",{children:[Object(I.jsx)(v.C,{children:"T\xean (*)"}),Object(I.jsx)(O.a,{style:E.searchInput,onChange:function(t){e.setState({Name:t.target.value})},value:u,readOnly:o})]})}),Object(I.jsxs)(v.i,{sm:"12",lg:"12",children:[Object(I.jsx)(v.C,{children:"Email"}),Object(I.jsx)(O.a,{style:E.searchInput,value:d,onChange:function(t){e.setState({Email:t.target.value})},readOnly:o})]}),Object(I.jsxs)(v.i,{sm:"12",lg:"12",children:[Object(I.jsx)(v.C,{children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i (*)"}),Object(I.jsx)(O.a,{style:E.searchInput,value:h,onChange:function(t){e.setState({Phone:t.target.value})},readOnly:o})]}),Object(I.jsx)(v.i,{sm:"12",lg:"12",children:Object(I.jsxs)("div",{children:[Object(I.jsx)(v.C,{children:"\u0110\u1ecba ch\u1ec9"}),Object(I.jsx)(O.a,{style:E.searchInput,value:p,onChange:function(t){e.setState({Address:t.target.value})},readOnly:o})]})}),Object(I.jsxs)(v.i,{sm:"12",lg:"12",children:[Object(I.jsx)(v.C,{children:"Slug"}),Object(I.jsx)(v.F,{children:Object(I.jsx)(v.i,{sm:"12",lg:"12",children:Object(I.jsx)("div",{children:Object(I.jsx)(O.a,{style:E.searchInput,readOnly:o,onChange:function(t){e.setState({current_slug:t.target.value})},value:n})})})})]}),Object(I.jsx)(v.i,{sm:"12",lg:"12",children:Object(I.jsxs)("div",{children:[Object(I.jsx)(v.C,{children:"T\xean \u0111\u0103ng nh\u1eadp (*)"}),Object(I.jsx)(O.a,{style:E.searchInput,value:y,onChange:function(t){e.setState({UserName:t.target.value})},readOnly:o})]})}),Object(I.jsxs)(v.i,{sm:"12",lg:"12",children:[Object(I.jsx)(v.C,{children:"M\u1eadt kh\u1ea9u (*)"}),Object(I.jsxs)(v.F,{children:[Object(I.jsx)(v.i,{sm:"9",lg:"9",children:Object(I.jsx)(O.a,{type:"password",style:E.searchInput,readOnly:s,onChange:function(t){e.setState({currentPassword:t.target.value})},value:r})}),Object(I.jsx)(v.i,{sm:"3",lg:"3",children:s?Object(I.jsx)(f.a,{color:"primary",onClick:function(t){e.setState({isChange:!1})},children:"Thay \u0111\u1ed5i"}):Object(I.jsx)(f.a,{color:"primary",onClick:function(){var t=Object(l.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updatePassword(a._id,r);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"C\u1eadp nh\u1eadt"})})]})]})]})]})})})]})]})})})}}]),a}(p.Component),L=Object(_.css)(n||(n=Object(s.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]))),E={datePicker:{marginBottom:20},wa10:{width:"5%",float:"left",height:"80px"},pagination:{marginRight:"5px"},flexLabel:{width:100},flexOption:{width:200,margin:"1px"},a:{textDecoration:"none"},floatRight:{float:"right",marginTop:"3px"},spinner:{width:"30px"},center:{textAlign:"center"},tbody:{height:"380px",overflowY:"auto"},wh12:{width:"10%",float:"left",height:"80px"},wh15:{width:"15%",float:"left",height:"80px"},w5:{width:"12%",float:"left",height:"80px"},row:{float:"left",width:"100%"},success:{color:"green"},danger:{color:"red"},mgl5:{marginLeft:"5px"},tags:{float:"right",marginRight:"5px"},searchInput:{width:"100%",display:"inline-block",margin:"1px"},userActive:{color:"green"},userPending:{color:"red"},nagemonNameCol:{width:"328px"},image:{width:"100px",height:"100px",borderRadius:"99999px"}};t.default=A}}]);
//# sourceMappingURL=31.5fc0483a.chunk.js.map