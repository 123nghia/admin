(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[80],{1270:function(e,t,a){"use strict";a.r(t);var n,s=a(667),r=a(165),c=a(113),i=a.n(c),l=a(651),o=a(166),u=a(167),d=a(169),h=a(168),p=a(2),j=a(661),g=a(662),m=a(687),b=a(688),x=a(663),O=a(665),f=a(684),v=a(647),y=a(659),w=(a(658),a(682),a(648)),S=a(654),C=a.n(S),_=a(664),k=a(668),N=a.n(k),P=a(17),I=new Headers,U=localStorage.getItem("auth");I.append("Authorization","Bearer "+U),I.append("Content-Type","application/json");var A=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getData=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isLoading:!0}),e.next=3,C()({baseURL:w.a.BASE_URL,url:w.a.PLUGIN_GET_USER_BYID,method:"POST",headers:n.state.token});case 3:t=e.sent,a=t.data.data,n.setState({dataApi:a,data:a,currentPassword:a.Password,isLoading:!1,current_slug:null==a.Company_Id||void 0==a.Company_Id?null:a.Company_Id.Slug,companyID:null==a.Company_Id||void 0==a.Company_Id?null:a.Company_Id._id,Email:a.Email,Name:a.Name,Phone:a.Phone,Address:a.Address,UserName:a.UserName,Message_Code:a.Message_Code,isDisable:!0});case 6:case"end":return e.stop()}}),e)}))),n.getPackageName=function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C()({baseURL:w.a.BASE_URL,url:w.a.PLUGIN_DATA_PACKAGE,method:"POST",data:{package_id:t}});case 2:return a=e.sent,e.abrupt("return",a.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={data:[],updated:"",dataApi:[],delete:null,hidden:!0,token:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},role:localStorage.getItem("role"),type:localStorage.getItem("type"),company_id:localStorage.getItem("user"),current_slug:"",companyID:"",arrTotalPackage:[],isChange:!0,isChangeSlug:!0,currentPassword:"",isLoading:!1,isDisable:!0,Email:"",Name:"",Phone:"",Address:"",UserName:"",Message_Code:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.getData(),t=JSON.parse(localStorage.getItem("url")),a=0;a<t.length;a++)"#"+t[a].to==window.location.hash&&1==t[a].hidden&&(window.location.href="#/");case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChange",value:function(e,t){this.setState(Object(r.a)({},e,t))}},{key:"openUpdate",value:function(e){this.setState(Object(r.a)({},e,!this.state[e]))}},{key:"inputChange",value:function(e){this.setState(Object(r.a)({},e.target.name,e.target.value))}},{key:"updatePassword",value:function(){var e=Object(l.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C()({baseURL:w.a.BASE_URL,url:w.a.PLUGIN_UPDATE_PASSWORD,method:"POST",data:{id:t,new_password:a}});case 2:1==(n=e.sent).data.is_success?(this.getData(),this.setState({isChange:!0})):(alert(n.data.message),this.setState({isLoading:!1}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"updateSlug",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C()({baseURL:w.a.BASE_URL,url:w.a.UPDATE_SLUG,method:"POST",data:{id:this.state.companyID,Slug:this.state.current_slug}});case 2:1==(t=e.sent).data.is_success?(this.getData(),this.setState({isChangeSlug:!0})):(alert(t.data.message),this.setState({isChangeSlug:!1}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCompany",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,a,n,s,r,c,l,o,u,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.Email,n=t.Name,s=t.Phone,r=t.Address,c=t.UserName,l=t.data,o=t.Message_Code,null!=a&&""!=a&&null!=n&&""!=n&&null!=s&&""!=s&&null!=c&&""!=c){e.next=4;break}return alert("Vui lòng nhập đầy đủ trường !!!"),e.abrupt("return");case 4:return u={isHash:!1,Name:""==n?l.Name:n,Email:""==a?l.Email:a,Phone:""==s?l.Phone:s,Address:""==r?l.Address:r,UserName:""==c?l.UserName:c,Message_Code:""==o||null==o?l.Message_Code:o,Password:l.Password,Status:l.Status,id:l._id},this.setState({isLoading:!0}),e.next=8,C()({baseURL:w.a.BASE_URL,url:w.a.PLUGIN_UPDATE_USER_COMPANY,method:"POST",data:u});case 8:1==(d=e.sent).data.is_success?this.getData():(alert(d.data.message),this.setState({isLoading:!1}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.current_slug,s=t.isChange,r=t.currentPassword,c=t.isChangeSlug,o=t.type,u=t.isDisable,d=t.Email,h=t.Name,p=t.Phone,w=t.Address,S=t.UserName,C=t.Message_Code;return this.state.isLoading?Object(P.jsx)("div",{className:"sweet-loading",children:Object(P.jsx)(N.a,{css:L,size:50,color:"#123abc",loading:this.state.isLoading,speedMultiplier:1.5})}):Object(P.jsx)("div",{className:"animated fadeIn",children:Object(P.jsx)(j.a,{children:Object(P.jsxs)(g.a,{children:[Object(P.jsx)("p",{style:E.success,children:this.state.updated}),Object(P.jsx)("p",{style:E.danger,children:this.state.deleted}),Object(P.jsxs)(m.a,{children:[Object(P.jsx)(b.a,{children:"TH\xd4NG TIN T\xc0I KHO\u1ea2N"}),Object(P.jsx)(x.a,{children:Object(P.jsx)(v.X,{children:Object(P.jsxs)(v.p,{sm:"12",lg:"12",children:[Object(P.jsxs)(v.X,{children:[Object(P.jsx)(v.p,{sm:"12",lg:"10",children:Object(P.jsx)(v.N,{children:Object(P.jsx)("strong",{children:"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n"})})}),"0"==o||"1"==o?"":Object(P.jsx)(v.p,{sm:"12",lg:"2",children:Object(P.jsx)(v.jb,{content:"Xem chi ti\u1ebft \u0111\u01a1n h\xe0ng",children:u?Object(P.jsxs)(v.d,{outline:!0,color:"info",size:"xm",onClick:function(){var t=Object(l.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({isDisable:!u});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:[Object(P.jsx)(y.a,{name:"cil-pencil"})," C\u1eadp nh\u1eadt"]}):Object(P.jsxs)(v.d,{outline:!0,color:"info",size:"sm",onClick:function(){var t=Object(l.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.updateCompany();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:[Object(P.jsx)(y.a,{name:"cil-pencil"})," X\xe1c nh\u1eadn c\u1eadp nh\u1eadt"]})})})]}),Object(P.jsxs)(v.X,{children:[Object(P.jsx)(v.p,{sm:"12",lg:"12",children:Object(P.jsxs)("div",{children:[Object(P.jsx)(v.N,{children:"T\xean"}),Object(P.jsx)(O.a,{style:E.searchInput,onChange:function(t){e.setState({Name:t.target.value})},value:h,readOnly:u})]})}),Object(P.jsxs)(v.p,{sm:"12",lg:"12",children:[Object(P.jsx)(v.N,{children:"Email"}),Object(P.jsx)(O.a,{style:E.searchInput,value:d,onChange:function(t){e.setState({Email:t.target.value})},readOnly:u})]}),Object(P.jsxs)(v.p,{sm:"12",lg:"12",children:[Object(P.jsx)(v.N,{children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),Object(P.jsx)(O.a,{style:E.searchInput,value:p,onChange:function(t){e.setState({Phone:t.target.value})},readOnly:u})]}),Object(P.jsx)(v.p,{sm:"12",lg:"12",children:Object(P.jsxs)("div",{children:[Object(P.jsx)(v.N,{children:"\u0110\u1ecba ch\u1ec9"}),Object(P.jsx)(O.a,{style:E.searchInput,value:w,onChange:function(t){e.setState({Address:t.target.value})},readOnly:u})]})}),Object(P.jsxs)(v.p,{sm:"12",lg:"12",children:[Object(P.jsx)(v.N,{children:"T\xean th\u01b0\u01a1ng hi\u1ec7u"}),Object(P.jsxs)(v.X,{children:[Object(P.jsx)(v.p,{sm:"9",lg:"9",children:Object(P.jsx)("div",{children:Object(P.jsx)(O.a,{style:E.searchInput,readOnly:c,onChange:function(t){e.setState({current_slug:t.target.value})},value:n})})}),Object(P.jsx)(v.p,{sm:"3",lg:"3",children:c?Object(P.jsx)(f.a,{color:"primary",onClick:function(t){e.setState({isChangeSlug:!1})},children:"Thay \u0111\u1ed5i"}):Object(P.jsx)(f.a,{color:"primary",onClick:function(){var t=Object(l.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateSlug();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"C\u1eadp nh\u1eadt"})})]})]}),Object(P.jsx)(v.p,{sm:"12",lg:"12",children:Object(P.jsxs)("div",{children:[Object(P.jsx)(v.N,{children:"T\xean \u0111\u0103ng nh\u1eadp"}),Object(P.jsx)(O.a,{style:E.searchInput,value:S,onChange:function(t){e.setState({UserName:t.target.value})},readOnly:u})]})}),Object(P.jsxs)(v.p,{sm:"12",lg:"12",children:[Object(P.jsx)(v.N,{children:"M\u1eadt kh\u1ea9u"}),Object(P.jsxs)(v.X,{children:[Object(P.jsx)(v.p,{sm:"9",lg:"9",children:Object(P.jsx)(O.a,{type:"password",style:E.searchInput,readOnly:s,onChange:function(t){e.setState({currentPassword:t.target.value})},value:r})}),Object(P.jsx)(v.p,{sm:"3",lg:"3",children:s?Object(P.jsx)(f.a,{color:"primary",onClick:function(t){e.setState({isChange:!1})},children:"Thay \u0111\u1ed5i"}):Object(P.jsx)(f.a,{color:"primary",onClick:function(){var t=Object(l.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updatePassword(a._id,r);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"C\u1eadp nh\u1eadt"})})]})]}),Object(P.jsx)(v.p,{sm:"12",lg:"12",children:Object(P.jsxs)("div",{children:[Object(P.jsx)(v.N,{children:"M\xe3 code message (nh\u1eafn tin v\u1edbi kh\xe1ch h\xe0ng)"}),Object(P.jsx)(v.hb,{style:E.searchInput,rows:9,value:C,onChange:function(t){e.setState({Message_Code:t.target.value})},readOnly:u})]})})]})]})})})]})]})})})}}]),a}(p.Component),L=Object(_.css)(n||(n=Object(s.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]))),E={datePicker:{marginBottom:20},wa10:{width:"5%",float:"left",height:"80px"},pagination:{marginRight:"5px"},flexLabel:{width:100},flexOption:{width:200,margin:"1px"},a:{textDecoration:"none"},floatRight:{float:"right",marginTop:"3px"},spinner:{width:"30px"},center:{textAlign:"center"},tbody:{height:"380px",overflowY:"auto"},wh12:{width:"10%",float:"left",height:"80px"},wh15:{width:"15%",float:"left",height:"80px"},w5:{width:"12%",float:"left",height:"80px"},row:{float:"left",width:"100%"},success:{color:"green"},danger:{color:"red"},mgl5:{marginLeft:"5px"},tags:{float:"right",marginRight:"5px"},searchInput:{width:"100%",display:"inline-block",margin:"1px"},userActive:{color:"green"},userPending:{color:"red"},nagemonNameCol:{width:"328px"},image:{width:"100px",height:"100px",borderRadius:"99999px"}};t.default=A}}]);
//# sourceMappingURL=80.66dad0df.chunk.js.map
