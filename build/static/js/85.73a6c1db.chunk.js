(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[85],{1390:function(e,t,a){"use strict";a.r(t);var n=a(113),i=a.n(n),c=a(640),s=a(165),l=a(166),r=a(167),d=a(169),o=a(168),h=a(2),u=a(645),j=a(1299),p=a(1300),m=a(1301),g=a(1302),b=a(1303),f=a(662),O=a(1304),x=a(1389),v=a(1307),k=a(1308),y=a(1249),w=a(1369),S=a(1309),C=(a(644),a(639)),N=a(648),D=a.n(N),_=a(17),P=function(e){var t=e.field,a=e.value,n=e.label,i=e.error,c=e.type,s=e.onChange,l=e.checkUserExists,r=e.rows;return Object(_.jsxs)("div",{className:D()("form-group",{"has-error":i}),children:[Object(_.jsx)("label",{className:"control-label",children:n}),Object(_.jsx)("textarea",{onChange:s,onBlur:l,value:a,type:c,name:t,className:"form-control blacktext",rows:r}),i&&Object(_.jsx)("span",{className:"help-block",children:i})]})};P.defaultProps={type:"text",rows:"3"};var I=P,K=a(818),T=a.n(K),L=a(810),H=a.n(L);var E=a(652),B=a(1256),A=a.n(B),J=a(659),R=new Headers;R.append("Content-Type","application/json");var U=J.a.BASE_URL,V=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var n,r;return Object(l.a)(this,a),(r=t.call(this,e)).loadData=function(){var e=r.state,t=e.activePage,a=e.itemPerPage,n=e.key,i=void 0===n?"":n,c=e.idSDK,s=e.companyid,l={method:"GET"};fetch("".concat(U,"/itemSdk/suggest?limit=").concat(a,"&page=").concat(t,"&key=").concat(i,"&sdk_type=").concat(c,"&companyid=").concat(s),l).then((function(e){e.json().then((function(e){0==e.data.length?r.setState({hidden:!1}):r.setState({hidden:!0}),r.setState({data:e.data,itemsCount:e.totalItems})}))})).catch(console.log),fetch(U+"/sdk",l).then((function(e){e.json().then((function(e){r.setState({sdkItem:e||[],currentSdkSelect:e[0],isLoading:!1,currentItemSelect:null})}))})).catch(console.log)},r.execUpdate=function(e){var t,a=r.state.sdkItem.find((function(t){return t.name===e.level}));r.setState((t={action:"update",updateId:e._id,title_en:e.title_en||"",title_jp:e.title_jp||"",description_en:e.description_en||"",description_jp:e.description_jp||"",image:e.image,video:e.video,openDate:new Date,modal:!r.state.modal,name:e.name||""},Object(s.a)(t,"image",e.image||""),Object(s.a)(t,"title",e.title||""),Object(s.a)(t,"description",e.description||""),Object(s.a)(t,"linkdetail",e.linkdetail||""),Object(s.a)(t,"level",e.level||""),Object(s.a)(t,"sdktype",e.sdktype||""),Object(s.a)(t,"companyid",e.companyid||""),Object(s.a)(t,"currentSdkSelect",a),t))},r.deleteCard=function(e){if(window.confirm("Are you sure to delete this item?")){var t={method:"POST",headers:R,body:JSON.stringify({id:e})};fetch(U+"/itemSdk/deleteItem",t).then((function(){r.setState({deleted:"Item deleted",created:""}),r.loadData()})).catch((function(e){console.log("e",e)}))}},r.handlePageChange=function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({activePage:t,isLoading:!0},(function(){r.loadData()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onDateChange=function(e){e&&r.setState({openDate:e})},r.changeSdkType=function(e){e.preventDefault();var t=r.state.sdkItem.find((function(t){return t.name===e.target.value}));t&&r.setState({currentSdkSelect:t,level:t.name,sdktype:"1"})},r.changeLevel=function(e){e.preventDefault(),r.setState({sdktype:e.target.value})},r.updateApp=function(){var e=r.state,t=e.name,a=e.image,n=e.title,s=e.description,l=e.linkdetail,d=e.level,o=e.sdktype,h=e.action,u=e.updateId,j=e.companyid;if(r.isValid()){r.setState({errors:{},isLoading:!0});var p={name:t.trim()||"",image:a.trim()||"",title:n.trim()||"",description:s.trim()||"",linkdetail:l.trim()||"",level:d||"",sdktype:o||"",companyid:j};if("update"===h){var m={method:"PUT",headers:R,body:JSON.stringify(p)};fetch(U+"/itemSdk/".concat(u),m).then(Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.cancelCreate(),r.loadData(),r.setState({created:"News updated successfully",isLoading:!1,deleted:!1});case 3:case"end":return e.stop()}}),e)})))).catch(console.log)}else{var g={method:"POST",headers:R,body:JSON.stringify(p)};console.log(g),fetch(U+"/itemSdk",g).then(Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.cancelCreate(),r.loadData(),r.setState({created:"News created successfully",isLoading:!1,deleted:!1});case 3:case"end":return e.stop()}}),e)})))).catch(console.log)}}},r.state=(n={data:[],title_en:"",title_jp:"",image:"",video:"",description_en:"",description_jp:"",deleted:!1,isLoading:!1,errors:{},action:"",created:"",activePage:1,numPage:1,itemsCount:0,itemPerPage:5,openDate:new Date,name:""},Object(s.a)(n,"image",""),Object(s.a)(n,"key",""),Object(s.a)(n,"title",""),Object(s.a)(n,"description",""),Object(s.a)(n,"linkdetail",""),Object(s.a)(n,"level","K1"),Object(s.a)(n,"sdktype","1"),Object(s.a)(n,"sdkItem",[]),Object(s.a)(n,"currentSdkSelect",""),Object(s.a)(n,"currentItemSelect",null),Object(s.a)(n,"idSDK",window.location.hash.split("/")[window.location.hash.split("/").length-1]),Object(s.a)(n,"hidden",!1),Object(s.a)(n,"role",localStorage.getItem("role")),Object(s.a)(n,"companyid",localStorage.getItem("company_id")),n),r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadData();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toggle",value:function(e){this.setState({modal:!this.state.modal,action:e,isLoading:!1,updateId:"",title_en:"",title_jp:"",video:"",description_en:"",description_jp:"",deleted:!1,errors:{},openDate:new Date,name:"",image:"",title:"",description:"",linkdetail:"",level:"K1",sdktype:"1",companyid:""})}},{key:"cancelCreate",value:function(){var e;this.setState((e={modal:!1,updateId:"",title_en:"",title_jp:"",description_en:"",description_jp:"",image:"",video:"",openDate:new Date,name:""},Object(s.a)(e,"image",""),Object(s.a)(e,"title",""),Object(s.a)(e,"description",""),Object(s.a)(e,"linkdetail",""),Object(s.a)(e,"level","K1"),Object(s.a)(e,"sdktype","1"),Object(s.a)(e,"companyid",""),Object(s.a)(e,"currentSdkSelect",this.state.sdkItem[0]),e))}},{key:"inputChange",value:function(e){var t=this;console.log(e.target.name),this.setState(Object(s.a)({},e.target.name,e.target.value),(function(){t.goSearch()}))}},{key:"goSearch",value:function(){this.loadData()}},{key:"isValid",value:function(){var e=function(e){var t={};return T.a.isEmpty(e.name)&&(t.title_jp="Please enter name"),T.a.isEmpty(e.title)&&(t.description_en="Please enter title"),T.a.isEmpty(e.linkdetail)&&(t.description_jp="Please enter Link description"),(T.a.isEmpty(e.level)||T.a.isEmpty(e.sdktype))&&(t.openDate="Please enter valid data"),{errors:t,isValid:H()(t)}}(this.state),t=e.errors,a=e.isValid;return a||this.setState({errors:t}),a}},{key:"getBadgeSDK",value:function(e,t){var a=this.state.sdkItem;switch("K1"!=e&&"K2"!=e&&"K3"!=e&&"K4"!=e||(a.splice(t,1),this.setState({sdkItem:a})),e){case"K5":return"H\u1ed7 tr\u1ee3 gi\u1ea3m l\xe3o ho\xe1 da";case"K6":return"H\u1ed7 tr\u1ee3 \u0111i\u1ec1u tr\u1ecb m\u1ee5n";case"K7":return"H\u1ed7 tr\u1ee3 gi\u1ea3m qu\u1ea7ng th\xe2m m\u1eaft";case"K8":return"H\u1ed7 tr\u1ee3 gi\u1ea3m l\u1ed7 ch\xe2n l\xf4ng";case"K9":return"H\u1ed7 tr\u1ee3 gi\u1ea3m th\xe2m n\xe1m da"}}},{key:"getBadge",value:function(e){switch(e){case"1":return"Nh\u1eb9";case"2":return"Th\u01b0\u1eddng";case"3":return"N\u1eb7ng";default:return"Kh\xf4ng r\xf5"}}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.errors,s=t.name,l=t.image,r=t.title,d=t.description,o=t.linkdetail,h=t.sdktype,N=t.sdkItem,D=t.key,P=t.currentSdkSelect,K=this.state.activePage,T=this.state.itemPerPage;return this.state.isLoading?Object(_.jsx)("div",{id:"page-loading",children:Object(_.jsxs)("div",{className:"three-balls",children:[Object(_.jsx)("div",{className:"ball ball1"}),Object(_.jsx)("div",{className:"ball ball2"}),Object(_.jsx)("div",{className:"ball ball3"})]})}):Object(_.jsxs)("div",{className:"animated fadeIn",children:[Object(_.jsx)(j.a,{children:Object(_.jsxs)(p.a,{children:[Object(_.jsx)("p",{style:z.success,children:this.state.created}),Object(_.jsx)("p",{style:z.danger,children:this.state.deleted}),Object(_.jsxs)(m.a,{children:[Object(_.jsxs)(g.a,{children:[Object(_.jsx)("i",{className:"fa fa-align-justify"}),"S\u1ea3n ph\u1ea9m g\u1ee3i \xfd",Object(_.jsxs)("div",{style:z.tags,children:[Object(_.jsx)(b.a,{style:z.searchInput,onChange:function(t){return e.inputChange(t)},name:"key",value:D,placeholder:"T\xecm ki\u1ebfm"}),Object(_.jsx)(f.a,{outline:!0,color:"primary",style:z.marginCenter,size:"sm",onClick:function(t){return e.toggle("new")},children:"Th\xeam"})]})]}),Object(_.jsx)(O.a,{children:Object(_.jsxs)("table",{ble:!0,className:"table table-hover table-outline mb-0 d-none d-sm-table",children:[Object(_.jsx)("thead",{className:"thead-light",children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{className:"text-center",children:"STT."}),Object(_.jsx)("th",{className:"text-center",children:"T\xean"}),Object(_.jsx)("th",{className:"text-center",children:"H\xecnh \u1ea3nh"}),Object(_.jsx)("th",{className:"text-center",children:"Ti\xeau \u0111\u1ec1"}),Object(_.jsx)("th",{className:"text-center",children:"\u0110\u01b0\u1eddng d\u1eabn chi ti\u1ebft"}),Object(_.jsx)("th",{className:"text-center",children:"C\u1ea5p \u0111\u1ed9"}),Object(_.jsx)("th",{className:"text-center"})]})}),Object(_.jsxs)("tbody",{children:[Object(_.jsx)("td",{colSpan:"10",hidden:this.state.hidden,className:"text-center",children:"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u"}),a.map((function(t,a){return t.description=t.description||"",Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{className:"text-center",children:(K-1)*T+a+1}),Object(_.jsx)("td",{className:"text-center",children:t.name}),Object(_.jsx)("td",{className:"text-center",children:Object(_.jsx)("img",{src:t.image,style:{width:"50px",height:"50px"}})}),Object(_.jsx)(C.ib,{content:t.title,children:Object(_.jsx)("td",{className:"text-center",children:t.title.substr(0,45)+(t.title.length>45?"...":"")})}),Object(_.jsx)("td",{className:"text-center",children:Object(_.jsx)("a",{target:"_blank",href:t.linkdetail,children:"Chi ti\u1ebft s\u1ea3n ph\u1ea9m"})}),Object(_.jsx)("td",{className:"text-center",children:e.getBadge(t.sdktype)}),Object(_.jsxs)("td",{className:"text-center",children:[Object(_.jsx)(C.d,{style:z.mgl5,outline:!0,color:"primary",size:"sm",onClick:function(){var a=Object(c.a)(i.a.mark((function a(n){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",e.execUpdate(t));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),children:Object(_.jsx)(u.a,{name:"cilPencil"})}),Object(_.jsx)(C.d,{outline:!0,color:"danger",size:"sm",onClick:function(a){e.deleteCard(t._id)},children:Object(_.jsx)(u.a,{name:"cilTrash"})})]})]},a)}))]})]})})]}),Object(_.jsx)("div",{style:{float:"right"},children:Object(_.jsx)(A.a,{activePage:this.state.activePage,itemsCountPerPage:this.state.itemPerPage,totalItemsCount:this.state.itemsCount,pageRangeDisplayed:10,onChange:function(t){return e.handlePageChange(t)},itemClass:"page-item",linkClass:"page-link"})})]})}),Object(_.jsxs)(x.a,{isOpen:this.state.modal,toggle:function(t){return e.cancelCreate()},className:this.props.className,children:[Object(_.jsx)(v.a,{toggle:function(){return e.toggle()},children:"update"===this.state.action?"C\u1eadp nh\u1eadt":"T\u1ea1o m\u1edbi "}),Object(_.jsx)(k.a,{children:Object(_.jsxs)(y.a,{children:[Object(_.jsx)(E.a,{field:"name",label:"T\xean s\u1ea3n ph\u1ea9m",value:s,error:n.name,onChange:function(t){return e.inputChange(t)}}),Object(_.jsx)(E.a,{field:"image",label:"H\xecnh \u1ea3nh",value:l,error:n.image,onChange:function(t){return e.inputChange(t)}}),Object(_.jsx)(E.a,{field:"title",label:"Ti\xeau \u0111\u1ec1",value:r,error:n.title||"",onChange:function(t){return e.inputChange(t)}}),Object(_.jsx)(I,{field:"description",label:"M\xf4 t\u1ea3",value:d,error:n.description,onChange:function(t){return e.inputChange(t)},rows:"7"}),Object(_.jsx)(E.a,{field:"linkdetail",label:"Link Detail",value:o,error:n.linkdetail||"",onChange:function(t){return e.inputChange(t)}}),Object(_.jsxs)(w.a,{row:!0,children:[Object(_.jsx)(p.a,{md:"3",children:Object(_.jsx)("label",{htmlFor:"tag",children:"Lo\u1ea1i SDK:"})}),Object(_.jsx)(p.a,{md:"9",children:Object(_.jsx)("select",{name:"level",value:P.name,onChange:function(t){return e.changeSdkType(t)},children:N.map((function(t,a){return Object(_.jsx)("option",{value:t.name,children:e.getBadgeSDK(t.name,e.isValid)},a)}))})})]}),Object(_.jsxs)(w.a,{row:!0,children:[Object(_.jsx)(p.a,{md:"3",children:Object(_.jsx)("label",{htmlFor:"tag",children:"C\u1ea5p \u0111\u1ed9:"})}),Object(_.jsx)(p.a,{md:"9",children:void 0!==P.sdktype?Object(_.jsx)("select",{name:"sdktype",value:h,onChange:function(t){return e.changeLevel(t)},children:P.sdktype.split(",").map((function(t,a){return Object(_.jsx)("option",{value:t,children:e.getBadge(t)},a)}))}):null})]})]})}),Object(_.jsxs)(S.a,{children:[Object(_.jsx)(f.a,{color:"primary",onClick:function(t){e.updateApp()},disabled:this.state.isLoading,children:"L\u01b0u"}),"\xa0\xa0",Object(_.jsx)(f.a,{color:"secondary",onClick:function(t){return e.cancelCreate()},children:"H\u1ee7y"})]})]})]})}}]),a}(h.Component),z={a:{textDecoration:"none"},floatRight:{float:"right"},floatCenter:{float:"center"},marginCenter:{marginLeft:"5px",marginRight:"5px"},spinner:{width:"30px"},center:{textAlign:"center"},tbody:{height:"380px",overflowY:"auto"},wh5:{width:"5%",float:"left",height:"70px"},wh10:{width:"9.8%",float:"left",height:"70px"},wh15:{width:"15%",float:"left",height:"70px"},wh20:{width:"20%",float:"left",height:"70px"},wh25:{width:"25%",float:"left",height:"70px"},wh30:{width:"30%",float:"left",height:"70px"},wh40:{width:"40%",float:"left",height:"70px"},w5:{width:"5%",float:"left"},w10:{width:"10%",float:"left"},w15:{width:"15%",float:"left"},w20:{width:"20%",float:"left"},w25:{width:"25%",float:"left"},w30:{width:"30%",float:"left"},w40:{width:"40%",float:"left"},row:{float:"left",width:"100%"},success:{color:"green"},danger:{color:"red"},mgl5:{margin:"5px"},tags:{float:"right",marginRight:"5px",display:"flex",justifyContent:"center",alignItems:"center"},searchInput:{width:"190px",display:"inline-block"}};t.default=V}}]);
//# sourceMappingURL=85.73a6c1db.chunk.js.map