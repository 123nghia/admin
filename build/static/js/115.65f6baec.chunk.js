(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[115],{1736:function(e,t,a){"use strict";a.r(t);var n,r=a(665),c=a(159),s=a(693),i=a.n(s),l=a(704),o=a(160),d=a(161),h=a(163),u=a(162),g=a(1),j=a(741),p=a(742),m=a(664),x=a(1e3),b=a(736),f=a(1698),O=(a(709),a(790),a(679)),k=a(696),y=a.n(k),w=a(650),v=a(674),_=a.n(v),N=a(1012),D=a(14),S=new Headers,P=localStorage.getItem("auth");S.append("Authorization","Bearer "+P),S.append("Content-Type","application/json");Object(x.a)((function(e){return{root:{"& > *":{marginTop:e.spacing(2)}}}}));var L=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getCompanyName=function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()({baseURL:O.a.BASE_URL,url:O.a.PLUGIN_DATA_COMPANY,method:"POST",data:{company_id:t}});case 2:return a=e.sent,n.setState({current_slug:a.data.data.Slug}),e.abrupt("return",null==a.data.data?"":a.data.data.Name);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getData=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isLoading:!0}),e.next=3,y()({baseURL:O.a.BASE_URL,url:O.a.PLUGIN_GET_USER_BYID,method:"POST",headers:n.state.token});case 3:return t=e.sent,a=t.data.data,e.next=7,n.onView(a.Name,a.Company_Id,a.Phone);case 7:n.setState({dataApi:t.data.data,data:a,isLoading:!1,current_slug:a.Company_Id.Slug});case 8:case"end":return e.stop()}}),e)}))),n.getPackageName=function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()({baseURL:O.a.BASE_URL,url:O.a.PLUGIN_DATA_PACKAGE,method:"POST",data:{package_id:t}});case 2:return a=e.sent,e.abrupt("return",a.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={data:[],activePage:1,page:1,itemsCount:0,limit:20,totalActive:0,modalCom:!1,viewingUser:{},communities:[],updated:"",dataApi:[],action:"new",modalDelete:!1,delete:null,dataCompany:[],currentCompany:"",dataTypeKey:[],currentTypeKey:"",dataHardWare:[],currentHardWare:"",arrPagination:[],indexPage:0,hidden:!0,token:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},role:localStorage.getItem("role"),company_id:localStorage.getItem("user"),link_shop:!0,data_link_shop:"",link_recommand:!0,data_link_recommand:"",link_sku:!0,data_link_sku:"",toggleView:!1,company_name:"",arrDetailPackage:[],phone_number:"",current_slug:"",arrTotalPackage:[],isChange:!0,current_package:"",isLoading:!1},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.getData(),t=JSON.parse(localStorage.getItem("url")),a=0;a<t.length;a++)t[a].url==window.location.hash&&1==t[a].isHidden&&(window.location.href="#/");case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBadge",value:function(e){switch(e){case"Actived":return"success";case"Deactived":return"danger";default:return"primary"}}},{key:"onChange",value:function(e,t){this.setState(Object(c.a)({},e,t))}},{key:"openUpdate",value:function(e){this.setState(Object(c.a)({},e,!this.state[e]))}},{key:"getPackageData",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()({baseURL:O.a.BASE_URL,url:O.a.LIST_PLUGIN_ORDER_BY_ID,method:"POST",headers:this.state.token});case 2:return t=e.sent,a=t.data.data,this.setState({arrTotalPackage:a,current_package:0==a.length?"":a[0].Package_Id.Name}),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onView",value:function(){var e=Object(l.a)(i.a.mark((function e(t,a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPackageData(a);case 2:r=e.sent,this.setState({toggleView:!this.state.toggleView,company_name:t,arrDetailPackage:0==r.length?[]:r[0].Array_Feature,phone_number:n});case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"renderDetailPackage",value:function(){var e=this;return Object(D.jsxs)("table",{ble:!0,className:"table table-hover table-outline mb-0 d-none d-sm-table",children:[Object(D.jsx)("thead",{className:"thead-light",children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{className:"text-center",children:"STT."}),Object(D.jsx)("th",{className:"text-center",children:"T\xean d\u1ecbch v\u1ee5"}),Object(D.jsx)("th",{className:"text-center",children:"\u0110\u01b0\u1eddng d\u1eabn"}),Object(D.jsx)("th",{className:"text-center",children:"#"})]})}),Object(D.jsxs)("tbody",{children:[0==this.state.arrDetailPackage.length?Object(D.jsx)("td",{colSpan:"10",hidden:!1,className:"text-center",children:"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u"}):Object(D.jsx)("td",{colSpan:"10",hidden:!0,className:"text-center",children:"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u"}),void 0!=this.state.arrDetailPackage||0!=this.state.arrDetailPackage.length||null!=this.state.arrDetailPackage?this.state.arrDetailPackage.map((function(t,a){return Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{className:"text-center",children:a+1}),Object(D.jsx)("td",{className:"text-center",children:t.Key}),Object(D.jsx)("td",{className:"text-center",children:t.Value+e.state.current_slug}),Object(D.jsx)("td",{className:"text-center",children:Object(D.jsx)(m.bb,{content:"Copy",children:Object(D.jsx)(N.CopyToClipboard,{text:t.Value+e.state.current_slug,onCopy:function(){},children:Object(D.jsx)(b.a,{content:f.a.cilCopy})})})})]},a)})):""]})]})}},{key:"convertUnitToDate",value:function(e){switch(e){case"0":return"Ng\xe0y";case"1":return"Th\xe1ng";case"2":return"N\u0103m"}}},{key:"CalculatorDateLeft",value:function(e,t){return Math.ceil(Math.abs(new Date(t)-new Date(e))/864e5)}},{key:"inputChange",value:function(e){this.setState(Object(c.a)({},e.target.name,e.target.value))}},{key:"calDateLeft",value:function(e,t){return this.CalculatorDateLeft(new Date(e),new Date(t))}},{key:"getBadgeStatus",value:function(e){switch(e){case"0":return"danger";case"1":return"success";default:return"primary"}}},{key:"getStatus",value:function(e){switch(e){case"0":return"Ch\u1edd duy\u1ec7t";case"1":return"\u0110\xe3 duy\u1ec7t";default:return"primary"}}},{key:"updatePassword",value:function(){var e=Object(l.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(a),e.next=4,y()({baseURL:O.a.BASE_URL,url:O.a.PLUGIN_UPDATE_PASSWORD,method:"POST",data:{id:t,new_password:a}});case 4:1==(n=e.sent).data.is_success?(this.getData(),this.setState({isChange:!0})):(alert(n.data.message),this.setState({isLoading:!1}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.arrTotalPackage,n=t.current_package;return this.state.isLoading?Object(D.jsx)("div",{className:"sweet-loading",children:Object(D.jsx)(_.a,{css:T,size:50,color:"#123abc",loading:this.state.isLoading,speedMultiplier:1.5})}):Object(D.jsx)("div",{className:"animated fadeIn",children:Object(D.jsxs)(j.a,{style:{padding:15},children:[Object(D.jsx)(p.a,{closeButton:!0,children:Object(D.jsx)(m.O,{children:"Danh s\xe1ch \u0111\u01a1n h\xe0ng"})}),Object(D.jsxs)("table",{ble:!0,className:"table table-hover table-outline mb-0 d-none d-sm-table",children:[Object(D.jsx)("thead",{className:"thead-light",children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{className:"text-center",children:"STT."}),Object(D.jsx)("th",{className:"text-center",children:"T\xean G\xf3i"}),Object(D.jsx)("th",{className:"text-center",children:"G\xf3i"}),Object(D.jsx)("th",{className:"text-center",children:"Ng\xe0y k\xedch ho\u1ea1t"}),Object(D.jsx)("th",{className:"text-center",children:"Ng\xe0y h\u1ebft h\u1ea1n"}),Object(D.jsx)("th",{className:"text-center",children:"Th\u1eddi gian h\u1ebft h\u1ea1n"}),Object(D.jsx)("th",{className:"text-center",children:"Tr\u1ea1ng th\xe1i"}),Object(D.jsx)("th",{className:"text-center",style:{width:"300px"},children:"T\xednh n\u0103ng"}),Object(D.jsx)("th",{className:"text-center",children:"#"})]})}),Object(D.jsxs)("tbody",{children:[0==a?Object(D.jsx)("td",{colSpan:"10",hidden:!1,className:"text-center",children:"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u"}):Object(D.jsx)("td",{colSpan:"10",hidden:!0,className:"text-center",children:"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u"}),void 0!=a?a.map((function(t,a){return Object(D.jsxs)("tr",{style:{justifyContent:"center"},children:[Object(D.jsx)("th",{className:"text-center",children:a+1}),Object(D.jsx)("th",{className:"text-center",children:t.Package_Id.Name}),Object(D.jsx)("th",{className:"text-center",children:"".concat(t.Package_Id.Value," ").concat(e.convertUnitToDate(t.Package_Id.Unit))}),Object(D.jsx)("th",{className:"text-center",children:"1"==t.Status?new Date(t.Active_Date).toLocaleDateString():"-----"}),Object(D.jsx)("th",{className:"text-center",children:"1"==t.Status?new Date(t.End_Date).toLocaleDateString():"-----"}),"1"==t.Status?Object(D.jsxs)("th",{className:"text-center",style:e.calDateLeft(t.End_Date,Date.now())>30?{color:"green"}:e.calDateLeft(t.End_Date,Date.now())<15?{color:"yellow"}:{color:"red"},children:[e.calDateLeft(t.End_Date,Date.now())," ng\xe0y n\u1eefa"]}):Object(D.jsx)("th",{className:"text-center",children:"-----"}),Object(D.jsx)("th",{className:"text-center",children:Object(D.jsx)(m.a,{color:e.getBadgeStatus(t.Status),children:e.getStatus(t.Status)})}),Object(D.jsxs)("th",{className:"text-center",children:[t.Array_Feature.map((function(e,t){if(t<2)return Object(D.jsx)("div",{children:Object(D.jsx)("a",{href:e.Value,target:"_blank",children:e.Value},t)})})),t.Array_Feature.length-2<=0?"":"..."]}),Object(D.jsx)("td",{className:"text-center",children:Object(D.jsx)(m.d,{outline:!0,color:"info",size:"sm",onClick:function(){var a=Object(l.a)(i.a.mark((function a(n){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.setState({arrDetailPackage:t.Array_Feature,current_package:t.Package_Id.Name});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),children:"Xem chi ti\u1ebft t\xednh n\u0103ng"})})]},a)})):""]})]}),Object(D.jsx)("br",{}),Object(D.jsx)(p.a,{children:Object(D.jsxs)(m.O,{children:["Chi ti\u1ebft t\xednh n\u0103ng (",n,")"]})}),this.renderDetailPackage()]})})}}]),a}(g.Component),T=Object(w.css)(n||(n=Object(r.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"])));Object(c.a)({datePicker:{marginBottom:20},wa10:{width:"5%",float:"left",height:"80px"},pagination:{marginRight:"5px"},flexLabel:{width:100},flexOption:{width:200,margin:"1px"},a:{textDecoration:"none"},floatRight:{float:"right",marginTop:"3px"},spinner:{width:"30px"},center:{textAlign:"center"},tbody:{height:"380px",overflowY:"auto"},wh12:{width:"10%",float:"left",height:"80px"},wh15:{width:"15%",float:"left",height:"80px"},w5:{width:"12%",float:"left",height:"80px"},row:{float:"left",width:"100%"},success:{color:"green"},danger:{color:"red"},mgl5:{marginLeft:"5px"},tags:{float:"right",marginRight:"5px"},searchInput:{width:"100%",display:"inline-block",margin:"1px"},userActive:{color:"green"},userPending:{color:"red"},nagemonNameCol:{width:"328px"},image:{width:"100px",height:"100px",borderRadius:"99999px"}},"mgl5",{marginBottom:"0px"});t.default=L}}]);
//# sourceMappingURL=115.65f6baec.chunk.js.map