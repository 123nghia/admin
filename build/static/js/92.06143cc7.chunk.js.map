{"version":3,"sources":["views/base/tables/AI_Skin/PluginCreateOrder.js"],"names":["headers","Headers","auth","localStorage","getItem","append","PluginCreateOrder","props","getCompanyName","company_id","a","axios","baseURL","Constants","BASE_URL","url","PLUGIN_DATA_COMPANY","method","data","resCom","setState","company_name","Name","currentSlug","Slug","confirmSlug","getPackageName","package_id","PLUGIN_DATA_PACKAGE","resPackage","package_name","package_time","Value","convertUnitToDate","Unit","package_key","package_unit","getFeatureChoose","feature","DATA_CHOOSE_FEATURE","length","JSON","parse","arrFeature","handleChange","newValue","actionMeta","objectValueCompany","Company_Id","value","disableNext","state","Package_Id","Feature_Id","arrayFeature","arrayChooseFeature","modalCom","updated","dataApi","action","modalDelete","delete","arrPagination","token","Authorization","dataPackage","dataFeature","time_expried","time_create","isLoading","arrOptionCompany","this","getCompanyData","getPackageData","getFeatureData","arr","i","window","location","hash","isHidden","href","PLUGIN_LIST_COMPANY","resCompany","arrTempOptionCompany","push","_id","label","LIST_PACKAGE","LIST_FEATURE","resFeature","key","status","unit","arrChoose","Array","arrTemp","arrSetDefault","Status","y","Array_Feature","name","Key","id","setItem","stringify","options","selectedValues","onSelect","e","onRemove","displayValue","body","Active_Date","End_Date","ADD_PLUGIN_ORDER","resOrder","is_success","alert","message","reload","ble","className","colSpan","hidden","undefined","map","item","today","Date","setDate","getDate","setMonth","getMonth","setFullYear","getFullYear","UPDATE_SLUG","getCurrentDate","getCurrentMonth","now","Number","style","styles","tags","sm","lg","md","xm","lx","isClearable","onChange","target","flexLabel","htmlFor","flexOption","renderSelect","marginTop","disabled","outline","color","floatRight","size","onClick","onNext","toLocaleDateString","renderTable","addOrderPlugin","isOpen","arrHardWard","arrChooseHard","toggleModal","Component","pagination","marginRight","width","margin","textDecoration","float","spinner","center","textAlign","tbody","height","overflowY","wh12","wh15","w5","wa10","row","success","danger","mgl5","marginLeft","padding","searchInput","display","userActive","userPending","nagemonNameCol","image","borderRadius","marginBottom"],"mappings":"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","file":"static/js/92.06143cc7.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport Multiselect from 'multiselect-react-dropdown';\r\nimport Moment from 'react-moment';\r\nimport 'moment-timezone';\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  Input,\r\n  ModalHeader, ModalBody, ModalFooter, Modal,\r\n} from 'reactstrap';\r\n\r\nimport {\r\n  CRow,\r\n  CCol,\r\n  CSelect,\r\n  CButton,\r\n  CLabel\r\n} from '@coreui/react'\r\n\r\nimport CreatableSelect from 'react-select/creatable';\r\nimport 'moment-timezone';\r\nimport Constants from \"../../../../contants/contants\";\r\nimport axios from 'axios'\r\nlet headers = new Headers();\r\nconst auth = localStorage.getItem('auth');\r\nheaders.append('Authorization', 'Bearer ' + auth);\r\nheaders.append('Content-Type', 'application/json');\r\n\r\nclass PluginCreateOrder extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: [],\r\n      Company_Id: '',\r\n      Package_Id: '',\r\n      Feature_Id: '',\r\n      arrayFeature: [],\r\n      arrayChooseFeature: [],\r\n      modalCom: false,\r\n      updated: '',\r\n      dataApi: [],\r\n      action: 'new',\r\n      modalDelete: false,\r\n      delete: null,\r\n      arrPagination: [],\r\n      token: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n      company_id: localStorage.getItem('user'),\r\n      dataPackage: [],\r\n      dataFeature: [],\r\n      company_name: '',\r\n      package_name: '',\r\n      package_time: '',\r\n      package_key: '',\r\n      package_unit: '',\r\n      arrFeature: [],\r\n      disableNext: false,\r\n      time_expried: '',\r\n      time_create: '',\r\n      //So sách 2 slug nếu trùng thì thôi còn khác nhau thì update lại slug của công ty\r\n      currentSlug: '',\r\n      confirmSlug: '',\r\n      isLoading: false,\r\n      arrOptionCompany: [],\r\n      objectValueCompany: {},\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.getCompanyData();\r\n    this.getPackageData();\r\n    this.getFeatureData();\r\n    let arr = JSON.parse(localStorage.getItem('url'));\r\n\r\n    for (let i = 0; i < arr.length; i++) {\r\n      if (arr[i].url == window.location.hash) {\r\n        if (arr[i].isHidden == true) {\r\n          window.location.href = '#/'\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  async getCompanyData() {\r\n    const resCompany = await axios({\r\n      baseURL: Constants.BASE_URL,\r\n      url: Constants.PLUGIN_LIST_COMPANY,\r\n      method: 'POST',\r\n    });\r\n\r\n    let data = resCompany.data.data;\r\n    let arrTempOptionCompany = [];\r\n    for (let i = 0; i < data.length; i++) {\r\n      arrTempOptionCompany.push({\r\n        value: data[i]._id, label: data[i].Name\r\n      })\r\n    }\r\n\r\n    this.setState({\r\n      arrOptionCompany: arrTempOptionCompany, objectValueCompany: arrTempOptionCompany.length > 0 ? arrTempOptionCompany[0] : { value: \"\", label: \"\" }\r\n    });\r\n  }\r\n\r\n  getCompanyName = async (company_id) => {\r\n    const resCom = await axios({\r\n      baseURL: Constants.BASE_URL,\r\n      url: Constants.PLUGIN_DATA_COMPANY,\r\n      method: 'POST',\r\n      data: {\r\n        company_id: company_id\r\n      }\r\n    });\r\n\r\n    this.setState({\r\n      company_name: resCom.data.data.Name,\r\n      currentSlug: resCom.data.data.Slug, confirmSlug: resCom.data.data.Slug\r\n    })\r\n    return resCom.data.data.Name;\r\n  }\r\n\r\n  getPackageName = async (package_id) => {\r\n    const resPackage = await axios({\r\n      baseURL: Constants.BASE_URL,\r\n      url: Constants.PLUGIN_DATA_PACKAGE,\r\n      method: 'POST',\r\n      data: {\r\n        package_id: package_id\r\n      }\r\n    });\r\n    this.setState({\r\n      package_name: resPackage.data.data.Name,\r\n      package_time: resPackage.data.data.Value + \" \" + this.convertUnitToDate(resPackage.data.data.Unit),\r\n      package_key: resPackage.data.data.Value, package_unit: resPackage.data.data.Unit\r\n    })\r\n    return resPackage.data.data.Name;\r\n  }\r\n\r\n  getFeatureChoose = async (feature) => {\r\n    const resPackage = await axios({\r\n      baseURL: Constants.BASE_URL,\r\n      url: Constants.DATA_CHOOSE_FEATURE,\r\n      method: 'POST',\r\n      data: {\r\n        feature: feature.length == 0 ? JSON.parse(localStorage.getItem('arrFeature')) : feature\r\n      }\r\n    });\r\n    this.setState({ arrFeature: resPackage.data.data })\r\n    return resPackage.data.data;\r\n  }\r\n\r\n  async getPackageData() {\r\n    const resPackage = await axios({\r\n      baseURL: Constants.BASE_URL,\r\n      url: Constants.LIST_PACKAGE,\r\n      method: 'POST',\r\n    });\r\n\r\n    this.setState({ dataPackage: resPackage.data.data });\r\n  }\r\n\r\n  async getPackage_forFeature() {\r\n    const resPackage = await axios({\r\n      baseURL: Constants.BASE_URL,\r\n      url: Constants.LIST_PACKAGE,\r\n      method: 'POST',\r\n    });\r\n\r\n    return resPackage.data.data;\r\n  }\r\n\r\n  async getFeatureData() {\r\n    const resFeature = await axios({\r\n      baseURL: Constants.BASE_URL,\r\n      url: Constants.LIST_FEATURE,\r\n      method: 'POST',\r\n    });\r\n\r\n    this.setState({ dataFeature: resFeature.data.data });\r\n  }\r\n\r\n  async toggleModal(key) {\r\n\r\n  }\r\n\r\n  getBadge(status) {\r\n    switch (status) {\r\n      case 'INSTOCK': return 'success'\r\n      case 'AVAILABLE': return 'secondary'\r\n      case 'Locked': return 'warning'\r\n      case 'Deactived': return 'danger'\r\n      default: return 'primary'\r\n    }\r\n  }\r\n\r\n  convertUnitToDate(unit) {\r\n    switch (unit) {\r\n      case '0': return 'Ngày'\r\n      case '1': return 'Tháng'\r\n      case '2': return 'Năm'\r\n    }\r\n  }\r\n\r\n  renderSelect() {\r\n    const { dataFeature, dataPackage, Package_Id } = this.state;\r\n    var arrChoose = new Array();\r\n    let arrTemp = [];\r\n    let arrFeature = [];\r\n    let arrSetDefault = [];\r\n    for (let i = 0; i < dataPackage.length; i++) {\r\n      if (dataPackage[i]._id == Package_Id && dataPackage[i].Status == \"1\") {\r\n        for (let y = 0; y < dataPackage[i].Array_Feature.length; y++) {\r\n          arrFeature.push({ name: dataPackage[i].Array_Feature[y].Key, id: dataPackage[i].Array_Feature[y]._id });\r\n          arrSetDefault.push(dataPackage[i].Array_Feature[y]._id)\r\n        }\r\n      }\r\n    }\r\n\r\n    localStorage.setItem('arrFeature', JSON.stringify(arrSetDefault));\r\n    //Đang lấy đúng config của multiselect để đổ dữ liệu vào cho multi select\r\n    for (let i = 0; i < dataFeature.length; i++) {\r\n      //if (dataFeature[i].Type == \"1\") {\r\n      arrTemp.push({ name: dataFeature[i].Key, id: dataFeature[i]._id })\r\n      //}\r\n    }\r\n    return (\r\n      <Multiselect\r\n        options={arrTemp}\r\n        selectedValues={arrFeature}\r\n        onSelect={async (e) => {\r\n          arrChoose = new Array();\r\n          for (let i = 0; i < e.length; i++) {\r\n            arrChoose.push(e[i].id);\r\n          }\r\n          this.setState({ arrayChooseFeature: arrChoose });\r\n        }}\r\n        onRemove={async (e) => {\r\n          arrChoose = new Array();\r\n          for (let i = 0; i < e.length; i++) {\r\n            arrChoose.push(e[i].id);\r\n          }\r\n          this.setState({ arrayChooseFeature: arrChoose });\r\n        }}\r\n        displayValue=\"name\"\r\n      />\r\n    )\r\n  }\r\n\r\n  async addOrderPlugin() {\r\n    const { Company_Id, Package_Id, arrFeature, time_create, time_expried } = this.state;\r\n    var body = {\r\n      Company_Id: Company_Id,\r\n      Package_Id: Package_Id,\r\n      Array_Feature: arrFeature,\r\n      Active_Date: time_create,\r\n      End_Date: time_expried\r\n    }\r\n\r\n    const resOrder = await axios({\r\n      baseURL: Constants.BASE_URL,\r\n      url: Constants.ADD_PLUGIN_ORDER,\r\n      method: 'PUT',\r\n      data: body,\r\n      headers: this.state.token\r\n    });\r\n\r\n    if (resOrder.data.is_success == true) {\r\n      alert(resOrder.data.message);\r\n      window.location.reload();\r\n    } else {\r\n      alert(resOrder.data.message);\r\n    }\r\n  }\r\n\r\n  renderTable(arrFeature, company_name, package_name, package_time) {\r\n    const { currentSlug } = this.state;\r\n    return (\r\n      <table ble className=\"table table-hover table-outline mb-0  d-sm-table\">\r\n        <thead className=\"thead-light\">\r\n          <tr>\r\n            <th className=\"text-center\">No.</th>\r\n            <th className=\"text-center\">Thời hạn</th>\r\n            <th className=\"text-center\">Tên tính năng</th>\r\n            <th className=\"text-center\">Đường dẫn</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <td colSpan=\"10\" hidden={true} className=\"text-center\">Không tìm thấy dữ liệu</td>\r\n          {\r\n            arrFeature != undefined || arrFeature.length != 0 || arrFeature != null ?\r\n              arrFeature.map((item, i) => {\r\n                return (\r\n                  <tr key={i}>\r\n                    <td className=\"text-center\">{i + 1}</td>\r\n                    <td className=\"text-center\">{package_time}</td>\r\n                    <td className=\"text-center\">{item.Key}</td>\r\n                    <td className=\"text-center\">{item.Value + currentSlug}</td>\r\n                  </tr>\r\n                );\r\n              }) : \"\"\r\n          }\r\n        </tbody>\r\n      </table>\r\n    )\r\n  }\r\n\r\n  getCurrentMonth(unit, value) {\r\n    var today = new Date();\r\n\r\n    switch (unit) {\r\n      case \"0\":\r\n        var date = today.setDate(today.getDate() + value);\r\n        return date;\r\n\r\n      case \"1\":\r\n        var month = today.setMonth(today.getMonth() + value);\r\n        return month;\r\n      case \"2\":\r\n        var year = today.setFullYear(today.getFullYear() + value);\r\n        return year;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  getCurrentDate(year = 0, month = 6, date = 16) {\r\n    // setInterval(function () {\r\n    //   var date_future = new Date(new Date().getFullYear() + year, month, date, 11, 1, 10);\r\n    //   var date_now = new Date();\r\n\r\n    //   var seconds = Math.floor((date_future - (date_now)) / 1000);\r\n    //   var minutes = Math.floor(seconds / 60);\r\n    //   var hours = Math.floor(minutes / 60);\r\n    //   var days = Math.floor(hours / 24);\r\n\r\n    //   hours = hours - (days * 24);\r\n    //   minutes = minutes - (days * 24 * 60) - (hours * 60);\r\n    //   seconds = seconds - (days * 24 * 60 * 60) - (hours * 60 * 60) - (minutes * 60);\r\n\r\n    //   console.log(\"Time until new year: Days: \" + days + \" Hours: \" + hours + \" Minutes: \" + minutes + \" Seconds: \" + seconds);\r\n    // }, 1000);\r\n    // var delta = Math.abs(new Date(Date.now() + (86400000 * 2)) - new Date(Date.now() + (8640000))) / 1000;\r\n    // var days = Math.floor(delta / 86400);\r\n    // delta -= days * 86400;\r\n    // console.log(\"Duy: \", delta)\r\n    // //console.log(new Date(Date.now() + (8640000)).toLocaleDateString());\r\n    // return Number(new Date(Date.now() + (86400000 * 8)));\r\n  }\r\n\r\n  async onNext(Company_Id, Package_Id, arrayChooseFeature) {\r\n    const { package_key, package_unit, currentSlug, confirmSlug } = this.state;\r\n    if (Company_Id != '' && Package_Id != '') {\r\n      await this.getCompanyName(Company_Id)\r\n      await this.getPackageName(Package_Id)\r\n      await this.getFeatureChoose(arrayChooseFeature);\r\n\r\n      if (currentSlug != confirmSlug) {\r\n        const res = await axios({\r\n          baseURL: Constants.BASE_URL,\r\n          url: Constants.UPDATE_SLUG,\r\n          method: 'POST',\r\n          data: {\r\n            id: Company_Id,\r\n            Slug: currentSlug\r\n          }\r\n        });\r\n\r\n        if(res.is_success == true) {\r\n          this.setState({ currentSlug: currentSlug })\r\n        }\r\n      }\r\n    } else if (Company_Id == '') {\r\n      alert('Chưa chọn công ty !!!')\r\n    } else if (Package_Id != '') {\r\n      alert('Chưa chọn gói !!!')\r\n    }\r\n\r\n    this.getCurrentDate();\r\n    this.getCurrentMonth();\r\n    this.setState({ disableNext: true, time_create: Date.now(), time_expried: this.getCurrentMonth(package_unit, Number(package_key)) })\r\n  }\r\n\r\n  handleChange = async (newValue, actionMeta) => {\r\n    this.setState({ objectValueCompany: newValue, Company_Id: newValue.value, disableNext: false })\r\n    await this.getCompanyName(newValue.value)\r\n  };\r\n\r\n  render() {\r\n    const { dataPackage, Company_Id, Package_Id, arrayChooseFeature,\r\n      company_name, package_name, package_time, arrFeature, package_key,\r\n      package_unit, currentSlug, objectValueCompany, arrOptionCompany } = this.state;\r\n\r\n    return (\r\n      <div className=\"animated fadeIn\">\r\n        <Card>\r\n          <CardHeader>\r\n            <i className=\"fa fa-align-justify\"> Quản lý đơn hàng</i>\r\n          </CardHeader>\r\n          <CardBody>\r\n            <div style={styles.tags}>\r\n              <CRow>\r\n                <CCol sm=\"12\" lg=\"12\">\r\n                  <CRow>\r\n                    <CCol md=\"2\" lg=\"2\" sm=\"12\" xm=\"12\" lx=\"2\">\r\n                      <CLabel>Chọn công ty:</CLabel>\r\n                    </CCol>\r\n                    <CCol md=\"10\" lg=\"10\" sm=\"12\" xm=\"12\" lx=\"10\">\r\n                      <CreatableSelect\r\n                        isClearable\r\n                        onChange={this.handleChange}\r\n                        value={objectValueCompany}\r\n                        // onInputChange={this.handleInputChange}\r\n                        options={arrOptionCompany}\r\n                      />\r\n                    </CCol>\r\n                  </CRow>\r\n                </CCol>\r\n\r\n                <CCol sm=\"12\" lg=\"12\">\r\n                  <CLabel>Định danh</CLabel>\r\n                  <Input onChange={(e) => { this.setState({ currentSlug: e.target.value }) }} value={currentSlug} />\r\n                </CCol>\r\n\r\n                <CCol sm=\"12\" lg=\"12\">\r\n                  <div>\r\n                    <label style={styles.flexLabel} htmlFor=\"tag\">Chọn gói sản phẩm:    </label>\r\n                    <CSelect style={styles.flexOption} onChange={async e => { this.setState({ Package_Id: e.target.value, disableNext: false }); await this.getPackageName(e.target.value) }}>\r\n                      <option value={this.state.Package_Id}>-----</option>\r\n                      {\r\n                        dataPackage.map((item, i) => {\r\n                          return (\r\n                            <option value={item._id}>{`${item.Name} (${item.Value} ${this.convertUnitToDate(item.Unit)})`}</option>\r\n                          );\r\n                        })\r\n                      }\r\n                    </CSelect>\r\n                  </div>\r\n                </CCol>\r\n\r\n\r\n                <CCol sm=\"12\" lg=\"12\">\r\n                  <label style={styles.flexLabel} htmlFor=\"tag\">Chọn các tính năng cho gói:    </label>\r\n                  {\r\n                    this.renderSelect()\r\n                  }\r\n                </CCol>\r\n\r\n                <CCol sm=\"12\" lg=\"12\">\r\n                  <label style={{ marginTop: 10 }} htmlFor=\"tag\">Số lượng tính năng: {this.state.arrayChooseFeature.length == 0 ? JSON.parse(localStorage.getItem('arrFeature')).length : this.state.arrayChooseFeature.length}    </label>\r\n                </CCol>\r\n\r\n                <CCol sm=\"12\" lg=\"12\">\r\n                  <CRow>\r\n                    <CCol sm=\"12\" lg=\"6\">\r\n                    </CCol>\r\n                    <CCol sm=\"12\" lg=\"6\">\r\n                      <CButton disabled={this.state.disableNext} outline color=\"primary\" style={styles.floatRight} size=\"sm\" onClick={async e => {\r\n                        await this.onNext(Company_Id, Package_Id, arrayChooseFeature);\r\n                      }}>Tiếp tục</CButton>\r\n                    </CCol>\r\n                  </CRow>\r\n                </CCol>\r\n                {arrFeature.length != 0 ?\r\n                  <CCol sm=\"12\" lg=\"12\">\r\n                    <CRow>\r\n                      <CCol sm=\"12\" lg=\"12\">\r\n                        KIỂM TRA LẠI ĐƠN HÀNG TRƯỚC KHI XÁC NHẬN\r\n                      </CCol>\r\n                      <CCol sm=\"12\" lg=\"12\">\r\n                        <strong>Tên Công Ty: {company_name}</strong>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" lg=\"12\">\r\n                        <strong>Tên Gói: {package_name}</strong>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" lg=\"12\">\r\n                        <strong>Thời gian kích hoạt dự kiến: {(new Date(Date.now())).toLocaleDateString()}</strong>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" lg=\"12\">\r\n                        <strong>Thời gian hết hạn dự kiến: {new Date(this.getCurrentMonth(package_unit, Number(package_key))).toLocaleDateString()}</strong>\r\n                      </CCol>\r\n\r\n                      <CCol sm=\"12\" lg=\"12\">\r\n                        {\r\n                          this.renderTable(arrFeature, company_name, package_name, package_time)\r\n                        }\r\n                      </CCol>\r\n                      <CCol sm=\"12\" lg=\"12\">\r\n                        <CButton outline color=\"primary\" style={styles.floatRight} size=\"sm\" onClick={async e => {\r\n                          await this.addOrderPlugin();\r\n                        }}>Tạo đơn hàng</CButton>\r\n                      </CCol>\r\n                    </CRow>\r\n                  </CCol> : \"\"\r\n\r\n                }\r\n              </CRow>\r\n            </div>\r\n          </CardBody>\r\n        </Card>\r\n\r\n        <Modal isOpen={this.state.modalCom} >\r\n          <ModalHeader>Danh sách phần cứng</ModalHeader>\r\n\r\n          <ModalBody>\r\n\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <CButton color=\"primary\" onClick={e => { this.setState({ arrHardWard: this.state.arrChooseHard }); }}>Lưu</CButton>{' '}\r\n            <CButton color=\"secondary\" onClick={e => this.toggleModal(\"new\")}>Close</CButton>\r\n          </ModalFooter>\r\n        </Modal>\r\n      </div >\r\n\r\n    )\r\n\r\n  }\r\n}\r\n\r\nconst styles = {\r\n  pagination: {\r\n    marginRight: '5px'\r\n  },\r\n  flexLabel: {\r\n    width: '100%',\r\n    marginTop: 6\r\n  },\r\n  flexOption: {\r\n    width: '100%',\r\n    margin: '1px'\r\n  },\r\n  a: {\r\n    textDecoration: 'none'\r\n  },\r\n  floatRight: {\r\n    float: 'right',\r\n    margin: '5px'\r\n  },\r\n  spinner: {\r\n    width: \"30px\"\r\n  },\r\n  center: {\r\n    textAlign: \"center\"\r\n  },\r\n  tbody: {\r\n    height: \"380px\",\r\n    overflowY: \"auto\"\r\n  },\r\n  wh12: {\r\n    width: \"8%\",\r\n    float: \"left\",\r\n    height: \"80px\"\r\n  },\r\n  wh15: {\r\n    width: \"15%\",\r\n    float: \"left\",\r\n    height: \"80px\"\r\n  },\r\n  w5: {\r\n    width: \"12%\",\r\n    float: \"left\",\r\n    height: \"80px\"\r\n  },\r\n  wa10: {\r\n    width: \"5%\",\r\n    float: \"left\",\r\n    height: \"80px\"\r\n  },\r\n  row: {\r\n    float: \"left\",\r\n    width: \"100%\"\r\n  },\r\n  success: {\r\n    color: 'green'\r\n  },\r\n  danger: {\r\n    color: 'red'\r\n  },\r\n  mgl5: {\r\n    marginLeft: '5px'\r\n  },\r\n  tags: {\r\n    padding: 10,\r\n  },\r\n  searchInput: {\r\n    width: \"160px\",\r\n    display: 'inline-block',\r\n    margin: '1px'\r\n  },\r\n  userActive: {\r\n    color: 'green'\r\n  },\r\n  userPending: {\r\n    color: 'red'\r\n  },\r\n  nagemonNameCol: {\r\n    width: '328px'\r\n  },\r\n  image: {\r\n    width: '100px',\r\n    height: '100px',\r\n    borderRadius: '99999px'\r\n  },\r\n  mgl5: {\r\n    marginBottom: '5px'\r\n  }\r\n}\r\n\r\nexport default PluginCreateOrder;\r\n"],"sourceRoot":""}