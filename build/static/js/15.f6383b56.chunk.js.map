{"version":3,"sources":["views/Pages/Login_plugin/Login.js","shared/validations/login.js","contants/contants_app.js","assets/img/logo_head.png"],"names":["Login","props","state","username","password","errors","isLoading","localStorage","removeItem","location","pathname","window","href","data","Validator","isEmpty","isValid","validateInput","this","setState","e","a","preventDefault","axios","baseURL","Constants","BASE_URL","url","LOGIN_ADMIN_APP","method","md5","res","is_success","token","jwt","decode","setItem","JSON","stringify","company_id","Company_Id","sale_id","_id","role","type","history","push","console","log","common","name","target","value","className","md","onSubmit","style","color","placeholder","onChange","autoComplete","Row","Col","xs","lg","sm","Button","disabled","onClick","width","alignSelf","height","src","Logo","active","tabIndex","Component"],"mappings":"stBAuBMA,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACXC,SAAU,GACVC,SAAU,GACVC,OAAQ,GACRC,WAAW,GAEbC,aAAaC,WAAW,QACa,YAAjC,EAAKP,MAAMQ,SAASC,WACtBC,OAAOF,SAASG,KAAO,WAVR,E,2CAanB,WACE,MCnCW,SAAuBC,GAClC,IAAIR,EAAS,GAUb,OARGS,IAAUC,QAAQF,EAAKV,YACtBE,EAAOF,SAAW,yBAGnBW,IAAUC,QAAQF,EAAKT,YACtBC,EAAOD,SAAW,yBAGf,CACHC,SACAW,QAASD,IAAQV,IDsBOY,CAAcC,KAAKhB,OAAvCG,EAAR,EAAQA,OAAQW,EAAhB,EAAgBA,QAKhB,OAHKA,GACHE,KAAKC,SAAS,CAAEd,WAEXW,I,6DAET,WAAeI,GAAf,iBAAAC,EAAA,yDACED,EAAEE,kBACEJ,KAAKF,UAFX,uBAGIE,KAAKC,SAAS,CAAEd,OAAQ,GAAIC,WAAW,IAH3C,SAIsBiB,IAAM,CACtBC,QAASC,IAAUC,SACnBC,IAAKF,IAAUG,gBACfC,OAAQ,OACRhB,KAAM,CACJV,SAAUe,KAAKhB,MAAMC,SACrBC,SAAU0B,IAAIZ,KAAKhB,MAAME,aAVjC,QAIU2B,EAJV,QAcYlB,KAAKmB,YACPC,EAAQC,IAAIC,OAAOJ,EAAIlB,KAAKA,KAAKoB,OACrC1B,aAAa6B,QAAQ,OAAQC,KAAKC,UAAU,CAC1CnC,SAAUe,KAAKhB,MAAMC,SACrBC,SAAUc,KAAKhB,MAAME,SAAUmC,WAAYR,EAAIlB,KAAKA,KAAKA,KAAK2B,WAAYC,QAASV,EAAIlB,KAAKA,KAAKA,KAAK6B,OAExGnC,aAAa6B,QAAQ,OAAQ,OAC7B7B,aAAa6B,QAAQ,OAAQH,EAAMU,MACnCpC,aAAa6B,QAAQ,OAAQH,EAAMW,MACnCrC,aAAa6B,QAAQ,QAASL,EAAIlB,KAAKA,KAAKoB,OAE1B,KAAdA,EAAMW,MACRrC,aAAa6B,QAAQ,OAAQ,KAC7BlB,KAAKjB,MAAM4C,QAAQC,KAAK,iBAExBvC,aAAa6B,QAAQ,OAAQ,KAC7BlB,KAAKjB,MAAM4C,QAAQC,KAAK,kBAG1BC,QAAQC,IAAI9B,KAAKhB,MAAMC,UACvB4C,QAAQC,IAAIlB,IAAIZ,KAAKhB,MAAME,WAC3Bc,KAAKC,SAAS,CAAEb,WAAW,EAAOD,OAAQ,CAAE4C,OAAQ,4FAnC1D,gD,6EAuCA,SAAS7B,EAAG8B,GACVhC,KAAKC,SAAL,eAAiB+B,EAAO9B,EAAE+B,OAAOC,U,oBAEnC,WAAU,IAAD,OACP,EAA8BlC,KAAKhB,MAA3BG,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,UAChB,OACE,qBAAK+C,UAAU,qDAAf,SACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAMA,UAAU,yBAAhB,SACE,cAAC,IAAD,CAAMC,GAAG,IAAT,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOD,UAAU,MAAjB,SACE,cAAC,IAAD,UACE,uBAAME,SAAQ,uCAAE,WAAMnC,GAAN,SAAAC,EAAA,sEAAiB,EAAKkC,SAASnC,GAA/B,mFAAF,sDAAd,UACE,0DACA,sBAAMoC,MAAO,CAAEC,MAAO,OAASJ,UAAU,QAAzC,SAAkDhD,EAAO4C,SACzD,eAAC,IAAD,CAAaI,UAAU,OAAvB,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAOH,KAAK,iBAGhB,cAAC,IAAD,CAAQN,KAAK,OAAOc,YAAY,kCAAgBR,KAAK,WAAWS,SAAU,SAAAvC,GAAC,OAAI,EAAKuC,SAASvC,EAAG,aAAawC,aAAa,YAE5H,eAAC,IAAD,CAAaP,UAAU,OAAvB,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAOH,KAAK,wBAGhB,cAAC,IAAD,CAAQN,KAAK,WAAWc,YAAY,qBAAWC,SAAU,SAAAvC,GAAC,OAAI,EAAKuC,SAASvC,EAAG,kBAGjF,eAACyC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAtB,SACE,cAACC,EAAA,EAAD,CAAQT,MAAM,UAAUJ,UAAU,OAAOc,SAAU7D,EAAnD,wCAEF,cAAC,IAAD,CAAMyD,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAGZ,UAAU,aAApC,SACE,cAAC,IAAD,CAASI,MAAM,OAAOJ,UAAU,OAAOe,QAAS,WAAQzD,OAAOF,SAASG,KAAO,qBAA/E,qDAOV,eAAC,IAAD,CAAOyC,UAAU,iCAAiCG,MAAO,CAAEa,MAAO,OAAlE,UACE,qBAAKb,MAAO,CAAEc,UAAW,UAAYC,OAAO,OAAOF,MAAM,QAAQG,IAAKC,MACtE,cAAC,IAAD,CAAWpB,UAAU,cAArB,SACE,gCACE,sDACA,sNACA,mBAAGzC,KAAK,yBAAyBuC,OAAO,SAAxC,SACE,cAAC,IAAD,CAASM,MAAM,UAAUJ,UAAU,OAAOqB,QAAM,EAACC,UAAW,EAA5D,gE,GAjHJC,aA8HL5E,a,iCErJA,KAEb,SAAa,sCACb,eAAkB,SAClB,UAAa,YACb,aAAgB,eAChB,aAAgB,eAEhB,eAAkB,UAClB,UAAa,aACb,aAAgB,gBAChB,aAAgB,gBAEhB,cAAiB,SACjB,SAAY,YACZ,YAAe,eACf,YAAe,eAEf,eAAkB,YAClB,UAAa,gBACb,aAAgB,mBAChB,aAAgB,gBAEhB,oBAAuB,iBAEvB,iBAAoB,cACpB,YAAe,kBACf,eAAkB,qBAClB,eAAkB,kBAElB,cAAiB,WAEjB,iBAAoB,WAEpB,gBAAmB,mBAEnB,iBAAoB,mBACpB,YAAe,mBACf,eAAkB,sBAClB,eAAkB,sBAElB,oBAAuB,iBACvB,eAAkB,gBAClB,kBAAqB,mBACrB,kBAAqB,qB,iCC5CR","file":"static/js/15.f6383b56.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Col, Row } from 'reactstrap';\nimport validateInput from '../../../shared/validations/login';\nimport axios from 'axios'\nimport jwt from 'jsonwebtoken'\nimport Constants from \"./../../../contants/contants_app\";\nimport Logo from \"./../../../../src/assets/img/logo_head.png\";\nimport md5 from \"md5\";\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardGroup,\n  CCol,\n  CContainer,\n  CInput,\n  CInputGroup,\n  CInputGroupPrepend,\n  CInputGroupText,\n  CRow\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      errors: {},\n      isLoading: false\n    }\n    localStorage.removeItem('auth');\n    if (this.props.location.pathname === '/logout') {\n      window.location.href = '#/login';\n    }\n  }\n  isValid() {\n    const { errors, isValid } = validateInput(this.state);\n\n    if (!isValid) {\n      this.setState({ errors });\n    }\n    return isValid;\n  }\n  async onSubmit(e) {\n    e.preventDefault();\n    if (this.isValid()) {\n      this.setState({ errors: {}, isLoading: true });\n      const res = await axios({\n        baseURL: Constants.BASE_URL,\n        url: Constants.LOGIN_ADMIN_APP,\n        method: 'POST',\n        data: {\n          username: this.state.username,\n          password: md5(this.state.password)\n        }\n      });\n\n      if (res.data.is_success) {\n        var token = jwt.decode(res.data.data.token);\n        localStorage.setItem('user', JSON.stringify({\n          username: this.state.username,\n          password: this.state.password, company_id: res.data.data.data.Company_Id, sale_id: res.data.data.data._id\n        }));\n        localStorage.setItem('auth', 'abv');\n        localStorage.setItem('role', token.role);\n        localStorage.setItem('type', token.type);\n        localStorage.setItem('token', res.data.data.token);\n\n        if (token.type == '0') {\n          localStorage.setItem('isAD', \"0\");\n          this.props.history.push('/suggest/K1')\n        } else {\n          localStorage.setItem('isAD', \"1\");\n          this.props.history.push('/suggest/K1')\n        }\n      } else {\n        console.log(this.state.username)\n        console.log(md5(this.state.password))\n        this.setState({ isLoading: false, errors: { common: 'Tên đăng nhập hoặc mật khẩu không chính xác' } });\n      }\n    }\n  }\n  onChange(e, name) {\n    this.setState({ [name]: e.target.value });\n  }\n  render() {\n    const { errors, isLoading } = this.state;\n    return (\n      <div className=\"c-app c-default-layout flex-row align-items-center\">\n        <CContainer>\n          <CRow className=\"justify-content-center\">\n            <CCol md=\"8\">\n              <CCardGroup>\n                <CCard className=\"p-4\">\n                  <CCardBody>\n                    <form onSubmit={async e => await this.onSubmit(e)}>\n                      <h1>Đăng nhập</h1>\n                      <span style={{ color: 'red' }} className=\"error\">{errors.common}</span>\n                      <CInputGroup className=\"mb-3\">\n                        <CInputGroupPrepend>\n                          <CInputGroupText>\n                            <CIcon name=\"cil-user\" />\n                          </CInputGroupText>\n                        </CInputGroupPrepend>\n                        <CInput type=\"text\" placeholder=\"Tên đăng nhập\" name=\"username\" onChange={e => this.onChange(e, 'username')} autoComplete=\"name\"/>\n                      </CInputGroup>\n                      <CInputGroup className=\"mb-4\">\n                        <CInputGroupPrepend>\n                          <CInputGroupText>\n                            <CIcon name=\"cil-lock-locked\" />\n                          </CInputGroupText>\n                        </CInputGroupPrepend>\n                        <CInput type=\"password\" placeholder=\"Mật khẩu\" onChange={e => this.onChange(e, 'password')} />\n                      </CInputGroup>\n\n                      <Row>\n                        <Col xs=\"6\" lg=\"6\" sm=\"6\">\n                          <Button color=\"primary\" className=\"px-4\" disabled={isLoading}>Đăng nhập</Button>\n                        </Col>\n                        <CCol xs=\"6\" lg=\"6\" sm=\"6\"className=\"text-right\">\n                          <CButton color=\"link\" className=\"px-0\" onClick={() => { window.location.href = \"#/change_password\" }}>Quên mật khẩu?</CButton>\n                        </CCol>\n                      </Row>\n\n                    </form>\n                  </CCardBody>\n                </CCard>\n                <CCard className=\"bg-primary py-5 d-md-down-none\" style={{ width: '44%' }}>\n                  <img style={{ alignSelf: 'center' }} height=\"20px\" width=\"130px\" src={Logo} />\n                  <CCardBody className=\"text-center\">\n                    <div>\n                      <h2>Đăng ký</h2>\n                      <p>Bạn muốn tạo tài khoản để sử dụng dịch vụ của TiKiTech. Hãy tham gia cùng chúng tôi ngay bên dưới.</p>\n                      <a href=\"https://applamdep.com/\" target=\"_blank\">\n                        <CButton color=\"primary\" className=\"mt-3\" active tabIndex={-1}>Đăng ký ngay</CButton>\n                      </a>\n                    </div>\n                  </CCardBody>\n                </CCard>\n              </CCardGroup>\n            </CCol>\n          </CRow>\n        </CContainer>\n      </div>\n    );\n  }\n}\nexport default Login;\n","import Validator from 'validator';\nimport isEmpty from 'lodash/isEmpty';\n\nexport default function validateinput(data) {\n    let errors = {};\n\n    if(Validator.isEmpty(data.username)) {\n        errors.username = 'Please enter username'\n    }\n\n    if(Validator.isEmpty(data.password)) {\n        errors.password = 'Please enter password'\n    }\n\n    return {\n        errors,\n        isValid: isEmpty(errors)\n    }\n}\n","export default {\n  //\"BASE_URL\" : \"http://localhost:3004\",\n  \"BASE_URL\" : \"https://admin-api-app.applamdep.com\",\n  \"GET_LIST_USERS\": \"/users\",\n  \"ADD_USERS\": \"/add-user\",\n  \"UPDATE_USERS\": \"/update-user\",\n  \"DELETE_USERS\": \"/delete-user\",\n\n  \"GET_LIST_BRAND\": \"/brands\",\n  \"ADD_BRAND\": \"/add-brand\",\n  \"UPDATE_BRAND\": \"/update-brand\",\n  \"DELETE_BRAND\": \"/delete-brand\",\n\n  \"GET_LIST_TYPE\": \"/types\",\n  \"ADD_TYPE\": \"/add-type\",\n  \"UPDATE_TYPE\": \"/update-type\",\n  \"DELETE_TYPE\": \"/delete-type\",\n\n  \"GET_LIST_COLOR\": \"/v2/color\",\n  \"ADD_COLOR\": \"/v2/add-color\",\n  \"UPDATE_COLOR\": \"/v2/update-color\",\n  \"DELETE_COLOR\": \"/delete-color\",\n\n  \"GET_LIST_HAIR_COLOR\": \"/v2/color-hair\",\n\n  \"GET_LIST_PRODUCT\": \"/v2/product\",\n  \"ADD_PRODUCT\": \"/v2/add-product\",\n  \"UPDATE_PRODUCT\": \"/v2/update-product\",\n  \"DELETE_PRODUCT\": \"/delete-product\",\n\n  \"GET_LIST_HAIR\": \"/v2/hair\",\n\n  \"GET_LIST_SUGGEST\": \"/itemSdk\",\n\n  \"LOGIN_ADMIN_APP\": \"/api/login-admin\",\n\n  \"GET_LIST_COMPANY\": \"/api/get-company\",\n  \"ADD_COMPANY\": \"/api/add-company\",\n  \"UPDATE_COMPANY\": \"/api/update-company\",\n  \"DELETE_COMPANY\": \"/api/delete-company\",\n\n  \"GET_LIST_USER_ADMIN\": \"/api/list-user\",\n  \"ADD_USER_ADMIN\": \"/api/add-user\",\n  \"UPDATE_USER_ADMIN\": \"/api/update-user\",\n  \"DELETE_USER_ADMIN\": \"/api/delete-user\",\n\n\n\n};\n","export default \"data:image/png;base64,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\""],"sourceRoot":""}