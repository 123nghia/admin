{"version":3,"sources":["views/base/tables/AI_Skin/HistorySkin.js","../node_modules/@material-ui/core/esm/styles/makeStyles.js"],"names":["headers","Headers","auth","localStorage","getItem","append","makeStyles","theme","root","marginTop","spacing","HistorySkin","props","getData","a","setState","isLoading","axios","baseURL","Constants","BASE_URL","url","LIST_HISTORY_SKIN","method","res","pagination","data","dataApi","active","map","val","Status","totalActive","getData_ByCondition","LIST_HISTORY_SKIN_BY_CONDITION","state","token","key","activePage","page","itemsCount","limit","modalCom","viewingUser","communities","updated","hidden","action","UserName","Result","User_Id","Company_Id","Sale_Id","modalDelete","delete","arrPagination","indexPage","Authorization","type","BASE_URL_CURRENT","console","log","this","arr","JSON","parse","i","length","window","location","hash","isHidden","href","j","temparray","arrTotal","slice","push","d","toLocaleUpperCase","includes","e","target","name","value","status","classes","className","css","override","size","color","loading","speedMultiplier","ble","colSpan","undefined","item","src","Image","style","width","height","outline","onClick","Name","Date","Create_Date","toLocaleDateString","toLocaleTimeString","float","count","onChange","v","Component","marginRight","flexLabel","flexOption","textDecoration","floatRight","spinner","center","textAlign","tbody","overflowY","wh25","w5","wa10","row","success","danger","mgl5","marginLeft","tags","searchInput","display","userActive","userPending","nagemonNameCol","image","borderRadius","marginBottom","stylesOrCreator","options","arguments","makeStylesWithoutDefault","_extends","defaultTheme"],"mappings":"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","file":"static/js/62.6858ce65.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport CIcon from '@coreui/icons-react'\nimport {\n  Card,\n  CardBody,\n  CardHeader,\n  Col,\n  Row,\n} from 'reactstrap';\n\nimport {\n  CButton\n} from '@coreui/react'\n\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Pagination from '@material-ui/lab/Pagination';\nimport 'moment-timezone';\nimport Constants from \"../../../../contants/contants\";\nimport axios from 'axios'\nimport { css } from \"@emotion/react\";\nimport DotLoader from \"react-spinners/DotLoader\";\n\nlet headers = new Headers();\nconst auth = localStorage.getItem('auth');\nheaders.append('Authorization', 'Bearer ' + auth);\nheaders.append('Content-Type', 'application/json');\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\nclass HistorySkin extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      key: '',\n      activePage: 1,\n      page: 1,\n      itemsCount: 0,\n      limit: 20,\n      totalActive: 0,\n      modalCom: false,\n      viewingUser: {},\n      communities: [],\n      updated: '',\n      dataApi: [],\n      hidden: false,\n      action: 'new',\n      UserName: '',\n      Result: '',\n      User_Id: '',\n      Company_Id: '',\n      Sale_Id: '',\n      modalDelete: false,\n      delete: null,\n      arrPagination: [],\n      indexPage: 0,\n      token: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n      isLoading: false,\n      type: localStorage.getItem('type'),\n      BASE_URL: Constants.BASE_URL_CURRENT\n    };\n  }\n  async componentDidMount() {\n    console.log(this.state.type)\n    if (this.state.type == '0') {\n      this.getData()\n    } else {\n      this.getData_ByCondition()\n    }\n\n    let arr = JSON.parse(localStorage.getItem('url'));\n    for (let i = 0; i < arr.length; i++) {\n      if (arr[i].url == window.location.hash) {\n        if (arr[i].isHidden == true) {\n          window.location.href = '#/'\n        }\n      }\n    }\n  }\n\n  pagination(dataApi) {\n    var i, j, temparray, chunk = 5;\n    var arrTotal = [];\n    for (i = 0, j = dataApi.length; i < j; i += chunk) {\n      temparray = dataApi.slice(i, i + chunk);\n      arrTotal.push(temparray);\n    }\n\n    if (arrTotal.length == 0) {\n      this.setState({\n        hidden: false\n      })\n    } else {\n      this.setState({\n        hidden: true\n      })\n    }\n\n    this.setState({ arrPagination: arrTotal, data: arrTotal[0] });\n  }\n\n  getData = async () => {\n    this.setState({ isLoading: true });\n    const res = await axios({\n      baseURL: Constants.BASE_URL,\n      url: Constants.LIST_HISTORY_SKIN,\n      method: 'POST'\n    });\n\n    this.pagination(res.data.data);\n    this.setState({ dataApi: res.data.data });\n\n    let active = 0\n\n    res.data.data.map(val => {\n      if (val.Status == \"Actived\") {\n        active = active + 1\n      }\n    })\n\n    this.setState({ isLoading: false, totalActive: active });\n  }\n\n  getData_ByCondition = async () => {\n    this.setState({ isLoading: true });\n    const res = await axios({\n      baseURL: Constants.BASE_URL,\n      url: Constants.LIST_HISTORY_SKIN_BY_CONDITION,\n      method: 'POST',\n      headers: this.state.token\n    });\n\n    this.pagination(res.data.data);\n    this.setState({ dataApi: res.data.data });\n\n    let active = 0\n\n    res.data.data.map(val => {\n      if (val.Status == \"Actived\") {\n        active = active + 1\n      }\n    })\n\n    this.setState({ isLoading: false, totalActive: active });\n  }\n\n  searchKey(key) {\n    this.setState({ key: key })\n\n    if (key != '') {\n      let d = []\n      this.state.dataApi.map(val => {\n        if (val.UserName.toLocaleUpperCase().includes(key.toLocaleUpperCase())) {\n          d.push(val)\n        }\n      })\n      let active = 0\n\n      d.map(val => {\n        if (val.Status == \"Actived\") {\n          active = active + 1\n        }\n      })\n\n      this.setState({ data: d, totalActive: active })\n    } else {\n      let active = 0\n\n      this.state.dataApi.map(val => {\n        if (val.Status == \"Actived\") {\n          active = active + 1\n        }\n      })\n\n      this.setState({ data: this.state.dataApi, totalActive: active })\n    }\n  }\n\n  onChange(key, val) {\n    this.setState({ [key]: val })\n  }\n\n  inputChange(e) {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n\n  getBadge(status) {\n    switch (status) {\n      case 'Actived': return 'success'\n      case 'Inactive': return 'secondary'\n      case 'Locked': return 'warning'\n      case 'Deactived': return 'danger'\n      default: return 'primary'\n    }\n  }\n\n  render() {\n    const { data, arrPagination } = this.state;\n    const { classes } = this.props;\n    if (!this.state.isLoading) {\n      return (\n        <div className=\"animated fadeIn\">\n          <Row>\n            <Col>\n              <Card>\n                <CardHeader>\n                  <i className=\"fa fa-align-justify\"></i> Lịch sử soi da\n                </CardHeader>\n                <CardBody>\n                  <table ble className=\"table table-hover table-outline mb-0 d-none d-sm-table\">\n                    <thead className=\"thead-light\">\n                      <tr>\n                        <th className=\"text-center\">STT.</th>\n                        <th className=\"text-center\">Tên</th>\n                        <th className=\"text-center\">Hình ảnh</th>\n                        <th className=\"text-center\">Kết quả</th>\n                        <th className=\"text-center\">Công ty</th>\n                        <th className=\"text-center\">Sale</th>\n                        <th className=\"text-center\">Ngày tạo</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <td colSpan=\"10\" hidden={this.state.hidden} className=\"text-center\">Không tìm thấy dữ liệu</td>\n                      {\n                        data != undefined ?\n                          data.map((item, i) => {\n                            return (\n                              <tr key={i}>\n                                <td className=\"text-center\">{i + 1}</td>\n                                <td className=\"text-center\">{item.UserName}</td>\n                                <td className=\"text-center\">\n                                  <img src={item.Image} style={{ width: '50%', height: 50 }} />\n                                </td>\n                                <td className=\"text-center\">\n                                  <CButton outline color=\"primary\" onClick={e => {\n                                    console.log(JSON.parse(item.Result))\n                                  }}><CIcon name=\"cil-magnifying-glass\" /> Xem chi tiết</CButton>\n                                  {/* <img src={this.state.BASE_URL + \"/images/calendar.png\"} style={{ width: '10%' }} /> */}\n                                  {/* {item.Result} */}\n                                </td>\n                                <td className=\"text-center\">{item.Company_Id.Name}</td>\n                                <td className=\"text-center\">{item.Sale_Id == null ? \"ADMIN\" : item.Sale_Id.Name}</td>\n                                <td className=\"text-center\">\n                                  {(new Date(item.Create_Date)).toLocaleDateString() + ' ' + (new Date(item.Create_Date)).toLocaleTimeString()}\n                                </td>\n                              </tr>\n                            );\n                          }) : \"\"\n                      }\n                    </tbody>\n                  </table>\n                </CardBody>\n              </Card>\n              <div style={{ float: 'right' }}>\n                <Pagination count={arrPagination.length} color=\"primary\" onChange={(e, v) => {\n                  this.setState({ data: arrPagination[v - 1], indexPage: v - 1 })\n                }} />\n              </div>\n            </Col>\n          </Row>\n        </div>\n      );\n    }\n    return (\n      <div className=\"sweet-loading\">\n        <DotLoader css={override} size={50} color={\"#123abc\"} loading={this.state.isLoading} speedMultiplier={1.5} />\n      </div>\n    );\n  }\n}\n\nconst override = css`\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n`;\n\nconst styles = {\n  pagination: {\n    marginRight: '5px'\n  },\n  flexLabel: {\n    width: 100\n  },\n  flexOption: {\n    width: 300\n  },\n  a: {\n    textDecoration: 'none'\n  },\n  floatRight: {\n    float: \"right\",\n    marginTop: '3px'\n  },\n  spinner: {\n    width: \"30px\"\n  },\n  center: {\n    textAlign: \"center\"\n  },\n  tbody: {\n    height: \"380px\",\n    overflowY: \"auto\"\n  },\n  wh25: {\n    width: \"25%\",\n    float: \"left\",\n    height: \"80px\"\n  },\n  w5: {\n    width: \"15%\",\n    float: \"left\",\n    height: \"80px\"\n  },\n  wa10: {\n    width: \"5%\",\n    float: \"left\",\n    height: \"80px\"\n  },\n  row: {\n    float: \"left\",\n    width: \"100%\"\n  },\n  success: {\n    color: 'green'\n  },\n  danger: {\n    color: 'red'\n  },\n  mgl5: {\n    marginLeft: '5px'\n  },\n  tags: {\n    float: \"right\",\n    marginRight: \"5px\",\n    width: \"250px\"\n  },\n  searchInput: {\n    width: \"190px\",\n    display: 'inline-block',\n  },\n  userActive: {\n    color: 'green'\n  },\n  userPending: {\n    color: 'red'\n  },\n  nagemonNameCol: {\n    width: '328px'\n  },\n  image: {\n    width: '100px',\n    height: '100px',\n    borderRadius: '99999px'\n  },\n  mgl5: {\n    marginBottom: '0px'\n  }\n}\n\nexport default HistorySkin;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { makeStyles as makeStylesWithoutDefault } from '@material-ui/styles';\nimport defaultTheme from './defaultTheme';\n\nfunction makeStyles(stylesOrCreator) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return makeStylesWithoutDefault(stylesOrCreator, _extends({\n    defaultTheme: defaultTheme\n  }, options));\n}\n\nexport default makeStyles;"],"sourceRoot":""}